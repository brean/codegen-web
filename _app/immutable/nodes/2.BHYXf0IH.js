import{r as vt,s as me,c as Ge,e as Re,f as Be,h as ue,k as N,y as S,P as se,m as G,Q as Pe,u as Ue,g as Je,a as Qe,R as Mn,q as Z,d as Ne,t as rn,l as Oe,j as ln,p as sn,S as De,T as Ee,U as ot,V as Ke,i as Ie,W as J,z as ae,X as ve,v as Ce,Y as Se,Z as zn,x as Fn,_ as Pn,$ as Zn,A as Ni,a0 as sr,a1 as ar,B as Nn,a2 as be,o as Ye,n as we,a3 as Ft,a4 as Rl,G as ur,a5 as Bl,a6 as Ll,a7 as Wl,b as qi,a8 as Gi}from"../chunks/scheduler.C2gsDOHq.js";import{a as Y,t as A,S as de,i as he,b as ne,d as re,m as ie,e as oe,g as Ve,c as Xe}from"../chunks/index.ARyCJnZT.js";import{w as ee,r as tt,d as Bt}from"../chunks/index.MCs1RNva.js";const Kl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Mt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function qn(t,e){Y(t,1,1,()=>{e.delete(t.key)})}function Gn(t,e,n,i,o,l,r,s,a,u,f,h){let d=t.length,c=l.length,m=d;const y={};for(;m--;)y[t[m].key]=m;const _=[],g=new Map,E=new Map,w=[];for(m=c;m--;){const T=h(o,l,m),D=n(T);let O=r.get(D);O?w.push(()=>O.p(T,e)):(O=u(D,T),O.c()),g.set(D,_[m]=O),D in y&&E.set(D,Math.abs(m-y[D]))}const p=new Set,V=new Set;function K(T){A(T,1),T.m(s,f),r.set(T.key,T),f=T.first,c--}for(;d&&c;){const T=_[c-1],D=t[d-1],O=T.key,X=D.key;T===D?(f=T.first,d--,c--):g.has(X)?!r.has(O)||p.has(O)?K(T):V.has(X)?d--:E.get(O)>E.get(X)?(V.add(O),K(T)):(p.add(X),d--):(a(D,r),d--)}for(;d--;){const T=t[d];g.has(T.key)||a(T,r)}for(;c;)K(_[c-1]);return vt(w),_}function wt(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const r=t[l],s=e[l];if(s){for(const a in r)a in s||(i[a]=1);for(const a in s)o[a]||(n[a]=s[a],o[a]=1);t[l]=s}else for(const a in r)o[a]=1}for(const r in i)r in n||(n[r]=void 0);return n}function Zt(t){return typeof t=="object"&&t!==null?t:{}}function pe(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=pe(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Fl={value:()=>{}};function Un(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Sn(n)}function Sn(t){this._=t}function Zl(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Sn.prototype=Un.prototype={constructor:Sn,on:function(t,e){var n=this._,i=Zl(t+"",n),o,l=-1,r=i.length;if(arguments.length<2){for(;++l<r;)if((o=(t=i[l]).type)&&(o=ql(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<r;)if(o=(t=i[l]).type)n[o]=Ui(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Ui(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Sn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,o=l.length;i<o;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,l=i.length;o<l;++o)i[o].value.apply(e,n)}};function ql(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Ui(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Fl,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var yi="http://www.w3.org/1999/xhtml";const Ji={svg:"http://www.w3.org/2000/svg",xhtml:yi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ji.hasOwnProperty(e)?{space:Ji[e],local:t}:t}function Gl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yi&&e.documentElement.namespaceURI===yi?e.createElement(t):e.createElementNS(n,t)}}function Ul(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fr(t){var e=Jn(t);return(e.local?Ul:Gl)(e)}function Jl(){}function Oi(t){return t==null?Jl:function(){return this.querySelector(t)}}function Ql(t){typeof t!="function"&&(t=Oi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],r=l.length,s=i[o]=new Array(r),a,u,f=0;f<r;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),s[f]=u);return new xe(i,this._parents)}function jl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xl(){return[]}function cr(t){return t==null?xl:function(){return this.querySelectorAll(t)}}function $l(t){return function(){return jl(t.apply(this,arguments))}}function es(t){typeof t=="function"?t=$l(t):t=cr(t);for(var e=this._groups,n=e.length,i=[],o=[],l=0;l<n;++l)for(var r=e[l],s=r.length,a,u=0;u<s;++u)(a=r[u])&&(i.push(t.call(a,a.__data__,u,r)),o.push(a));return new xe(i,o)}function dr(t){return function(){return this.matches(t)}}function hr(t){return function(e){return e.matches(t)}}var ts=Array.prototype.find;function ns(t){return function(){return ts.call(this.children,t)}}function is(){return this.firstElementChild}function os(t){return this.select(t==null?is:ns(typeof t=="function"?t:hr(t)))}var rs=Array.prototype.filter;function ls(){return Array.from(this.children)}function ss(t){return function(){return rs.call(this.children,t)}}function as(t){return this.selectAll(t==null?ls:ss(typeof t=="function"?t:hr(t)))}function us(t){typeof t!="function"&&(t=dr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],r=l.length,s=i[o]=[],a,u=0;u<r;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&s.push(a);return new xe(i,this._parents)}function gr(t){return new Array(t.length)}function fs(){return new xe(this._enter||this._groups.map(gr),this._parents)}function On(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}On.prototype={constructor:On,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function cs(t){return function(){return t}}function ds(t,e,n,i,o,l){for(var r=0,s,a=e.length,u=l.length;r<u;++r)(s=e[r])?(s.__data__=l[r],i[r]=s):n[r]=new On(t,l[r]);for(;r<a;++r)(s=e[r])&&(o[r]=s)}function hs(t,e,n,i,o,l,r){var s,a,u=new Map,f=e.length,h=l.length,d=new Array(f),c;for(s=0;s<f;++s)(a=e[s])&&(d[s]=c=r.call(a,a.__data__,s,e)+"",u.has(c)?o[s]=a:u.set(c,a));for(s=0;s<h;++s)c=r.call(t,l[s],s,l)+"",(a=u.get(c))?(i[s]=a,a.__data__=l[s],u.delete(c)):n[s]=new On(t,l[s]);for(s=0;s<f;++s)(a=e[s])&&u.get(d[s])===a&&(o[s]=a)}function gs(t){return t.__data__}function ms(t,e){if(!arguments.length)return Array.from(this,gs);var n=e?hs:ds,i=this._parents,o=this._groups;typeof t!="function"&&(t=cs(t));for(var l=o.length,r=new Array(l),s=new Array(l),a=new Array(l),u=0;u<l;++u){var f=i[u],h=o[u],d=h.length,c=ys(t.call(f,f&&f.__data__,u,i)),m=c.length,y=s[u]=new Array(m),_=r[u]=new Array(m),g=a[u]=new Array(d);n(f,h,y,_,g,c,e);for(var E=0,w=0,p,V;E<m;++E)if(p=y[E]){for(E>=w&&(w=E+1);!(V=_[w])&&++w<m;);p._next=V||null}}return r=new xe(r,i),r._enter=s,r._exit=a,r}function ys(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _s(){return new xe(this._exit||this._groups.map(gr),this._parents)}function bs(t,e,n){var i=this.enter(),o=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function ws(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,l=i.length,r=Math.min(o,l),s=new Array(o),a=0;a<r;++a)for(var u=n[a],f=i[a],h=u.length,d=s[a]=new Array(h),c,m=0;m<h;++m)(c=u[m]||f[m])&&(d[m]=c);for(;a<o;++a)s[a]=n[a];return new xe(s,this._parents)}function ks(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,l=i[o],r;--o>=0;)(r=i[o])&&(l&&r.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(r,l),l=r);return this}function vs(t){t||(t=Ss);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var r=n[l],s=r.length,a=o[l]=new Array(s),u,f=0;f<s;++f)(u=r[f])&&(a[f]=u);a.sort(e)}return new xe(o,this._parents).order()}function Ss(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Es(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Cs(){return Array.from(this)}function ps(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length;o<l;++o){var r=i[o];if(r)return r}return null}function Ms(){let t=0;for(const e of this)++t;return t}function zs(){return!this.node()}function Ps(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],l=0,r=o.length,s;l<r;++l)(s=o[l])&&t.call(s,s.__data__,l,o);return this}function Ns(t){return function(){this.removeAttribute(t)}}function Os(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ds(t,e){return function(){this.setAttribute(t,e)}}function Ts(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Hs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function As(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Is(t,e){var n=Jn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Os:Ns:typeof e=="function"?n.local?As:Hs:n.local?Ts:Ds)(n,e))}function mr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vs(t){return function(){this.style.removeProperty(t)}}function Xs(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ys(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Rs(t,e,n){return arguments.length>1?this.each((e==null?Vs:typeof e=="function"?Ys:Xs)(t,e,n??"")):qt(this.node(),t)}function qt(t,e){return t.style.getPropertyValue(e)||mr(t).getComputedStyle(t,null).getPropertyValue(e)}function Bs(t){return function(){delete this[t]}}function Ls(t,e){return function(){this[t]=e}}function Ws(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ks(t,e){return arguments.length>1?this.each((e==null?Bs:typeof e=="function"?Ws:Ls)(t,e)):this.node()[t]}function yr(t){return t.trim().split(/^|\s+/)}function Di(t){return t.classList||new _r(t)}function _r(t){this._node=t,this._names=yr(t.getAttribute("class")||"")}_r.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function br(t,e){for(var n=Di(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function wr(t,e){for(var n=Di(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Fs(t){return function(){br(this,t)}}function Zs(t){return function(){wr(this,t)}}function qs(t,e){return function(){(e.apply(this,arguments)?br:wr)(this,t)}}function Gs(t,e){var n=yr(t+"");if(arguments.length<2){for(var i=Di(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?qs:e?Fs:Zs)(n,e))}function Us(){this.textContent=""}function Js(t){return function(){this.textContent=t}}function Qs(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function js(t){return arguments.length?this.each(t==null?Us:(typeof t=="function"?Qs:Js)(t)):this.node().textContent}function xs(){this.innerHTML=""}function $s(t){return function(){this.innerHTML=t}}function ea(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ta(t){return arguments.length?this.each(t==null?xs:(typeof t=="function"?ea:$s)(t)):this.node().innerHTML}function na(){this.nextSibling&&this.parentNode.appendChild(this)}function ia(){return this.each(na)}function oa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ra(){return this.each(oa)}function la(t){var e=typeof t=="function"?t:fr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sa(){return null}function aa(t,e){var n=typeof t=="function"?t:fr(t),i=e==null?sa:typeof e=="function"?e:Oi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ua(){var t=this.parentNode;t&&t.removeChild(this)}function fa(){return this.each(ua)}function ca(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function da(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ha(t){return this.select(t?da:ca)}function ga(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ma(t){return function(e){t.call(this,e,this.__data__)}}function ya(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function _a(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,l;n<o;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function ba(t,e,n){return function(){var i=this.__on,o,l=ma(e);if(i){for(var r=0,s=i.length;r<s;++r)if((o=i[r]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=e;return}}this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(o):this.__on=[o]}}function wa(t,e,n){var i=ya(t+""),o,l=i.length,r;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,f;a<u;++a)for(o=0,f=s[a];o<l;++o)if((r=i[o]).type===f.type&&r.name===f.name)return f.value}return}for(s=e?ba:_a,o=0;o<l;++o)this.each(s(i[o],e,n));return this}function kr(t,e,n){var i=mr(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ka(t,e){return function(){return kr(this,t,e)}}function va(t,e){return function(){return kr(this,t,e.apply(this,arguments))}}function Sa(t,e){return this.each((typeof e=="function"?va:ka)(t,e))}function*Ea(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length,r;o<l;++o)(r=i[o])&&(yield r)}var vr=[null];function xe(t,e){this._groups=t,this._parents=e}function an(){return new xe([[document.documentElement]],vr)}function Ca(){return this}xe.prototype=an.prototype={constructor:xe,select:Ql,selectAll:es,selectChild:os,selectChildren:as,filter:us,data:ms,enter:fs,exit:_s,join:bs,merge:ws,selection:Ca,order:ks,sort:vs,call:Es,nodes:Cs,node:ps,size:Ms,empty:zs,each:Ps,attr:Is,style:Rs,property:Ks,classed:Gs,text:js,html:ta,raise:ia,lower:ra,append:la,insert:aa,remove:fa,clone:ha,datum:ga,on:wa,dispatch:Sa,[Symbol.iterator]:Ea};function et(t){return typeof t=="string"?new xe([[document.querySelector(t)]],[document.documentElement]):new xe([[t]],vr)}function pa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function nt(t,e){if(t=pa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ma={passive:!1},$t={capture:!0,passive:!1};function ri(t){t.stopImmediatePropagation()}function Lt(t){t.preventDefault(),t.stopImmediatePropagation()}function Sr(t){var e=t.document.documentElement,n=et(t).on("dragstart.drag",Lt,$t);"onselectstart"in e?n.on("selectstart.drag",Lt,$t):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Er(t,e){var n=t.document.documentElement,i=et(t).on("dragstart.drag",null);e&&(i.on("click.drag",Lt,$t),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const mn=t=>()=>t;function _i(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:l,x:r,y:s,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}_i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function za(t){return!t.ctrlKey&&!t.button}function Pa(){return this.parentNode}function Na(t,e){return e??{x:t.x,y:t.y}}function Oa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Da(){var t=za,e=Pa,n=Na,i=Oa,o={},l=Un("start","drag","end"),r=0,s,a,u,f,h=0;function d(p){p.on("mousedown.drag",c).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,Ma).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(p,V){if(!(f||!t.call(this,p,V))){var K=w(this,e.call(this,p,V),p,V,"mouse");K&&(et(p.view).on("mousemove.drag",m,$t).on("mouseup.drag",y,$t),Sr(p.view),ri(p),u=!1,s=p.clientX,a=p.clientY,K("start",p))}}function m(p){if(Lt(p),!u){var V=p.clientX-s,K=p.clientY-a;u=V*V+K*K>h}o.mouse("drag",p)}function y(p){et(p.view).on("mousemove.drag mouseup.drag",null),Er(p.view,u),Lt(p),o.mouse("end",p)}function _(p,V){if(t.call(this,p,V)){var K=p.changedTouches,T=e.call(this,p,V),D=K.length,O,X;for(O=0;O<D;++O)(X=w(this,T,p,V,K[O].identifier,K[O]))&&(ri(p),X("start",p,K[O]))}}function g(p){var V=p.changedTouches,K=V.length,T,D;for(T=0;T<K;++T)(D=o[V[T].identifier])&&(Lt(p),D("drag",p,V[T]))}function E(p){var V=p.changedTouches,K=V.length,T,D;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),T=0;T<K;++T)(D=o[V[T].identifier])&&(ri(p),D("end",p,V[T]))}function w(p,V,K,T,D,O){var X=l.copy(),q=nt(O||K,V),$,R,b;if((b=n.call(p,new _i("beforestart",{sourceEvent:K,target:d,identifier:D,active:r,x:q[0],y:q[1],dx:0,dy:0,dispatch:X}),T))!=null)return $=b.x-q[0]||0,R=b.y-q[1]||0,function v(k,M,P){var I=q,B;switch(k){case"start":o[D]=v,B=r++;break;case"end":delete o[D],--r;case"drag":q=nt(P||M,V),B=r;break}X.call(k,p,new _i(k,{sourceEvent:M,subject:b,target:d,identifier:D,active:B,x:q[0]+$,y:q[1]+R,dx:q[0]-I[0],dy:q[1]-I[1],dispatch:X}),T)}}return d.filter=function(p){return arguments.length?(t=typeof p=="function"?p:mn(!!p),d):t},d.container=function(p){return arguments.length?(e=typeof p=="function"?p:mn(p),d):e},d.subject=function(p){return arguments.length?(n=typeof p=="function"?p:mn(p),d):n},d.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:mn(!!p),d):i},d.on=function(){var p=l.on.apply(l,arguments);return p===l?d:p},d.clickDistance=function(p){return arguments.length?(h=(p=+p)*p,d):Math.sqrt(h)},d}function Ti(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Cr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function un(){}var en=.7,Dn=1/en,Wt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",at="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ta=/^#([0-9a-f]{3,8})$/,Ha=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Aa=new RegExp(`^rgb\\(${at},${at},${at}\\)$`),Ia=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${tn}\\)$`),Va=new RegExp(`^rgba\\(${at},${at},${at},${tn}\\)$`),Xa=new RegExp(`^hsl\\(${tn},${at},${at}\\)$`),Ya=new RegExp(`^hsla\\(${tn},${at},${at},${tn}\\)$`),Qi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ti(un,nn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ji,formatHex:ji,formatHex8:Ra,formatHsl:Ba,formatRgb:xi,toString:xi});function ji(){return this.rgb().formatHex()}function Ra(){return this.rgb().formatHex8()}function Ba(){return pr(this).formatHsl()}function xi(){return this.rgb().formatRgb()}function nn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ta.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$i(e):n===3?new qe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ha.exec(t))?new qe(e[1],e[2],e[3],1):(e=Aa.exec(t))?new qe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ia.exec(t))?yn(e[1],e[2],e[3],e[4]):(e=Va.exec(t))?yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xa.exec(t))?no(e[1],e[2]/100,e[3]/100,1):(e=Ya.exec(t))?no(e[1],e[2]/100,e[3]/100,e[4]):Qi.hasOwnProperty(t)?$i(Qi[t]):t==="transparent"?new qe(NaN,NaN,NaN,0):null}function $i(t){return new qe(t>>16&255,t>>8&255,t&255,1)}function yn(t,e,n,i){return i<=0&&(t=e=n=NaN),new qe(t,e,n,i)}function La(t){return t instanceof un||(t=nn(t)),t?(t=t.rgb(),new qe(t.r,t.g,t.b,t.opacity)):new qe}function bi(t,e,n,i){return arguments.length===1?La(t):new qe(t,e,n,i??1)}function qe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ti(qe,bi,Cr(un,{brighter(t){return t=t==null?Dn:Math.pow(Dn,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?en:Math.pow(en,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qe(Ot(this.r),Ot(this.g),Ot(this.b),Tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eo,formatHex:eo,formatHex8:Wa,formatRgb:to,toString:to}));function eo(){return`#${Pt(this.r)}${Pt(this.g)}${Pt(this.b)}`}function Wa(){return`#${Pt(this.r)}${Pt(this.g)}${Pt(this.b)}${Pt((isNaN(this.opacity)?1:this.opacity)*255)}`}function to(){const t=Tn(this.opacity);return`${t===1?"rgb(":"rgba("}${Ot(this.r)}, ${Ot(this.g)}, ${Ot(this.b)}${t===1?")":`, ${t})`}`}function Tn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ot(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pt(t){return t=Ot(t),(t<16?"0":"")+t.toString(16)}function no(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new it(t,e,n,i)}function pr(t){if(t instanceof it)return new it(t.h,t.s,t.l,t.opacity);if(t instanceof un||(t=nn(t)),!t)return new it;if(t instanceof it)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),r=NaN,s=l-o,a=(l+o)/2;return s?(e===l?r=(n-i)/s+(n<i)*6:n===l?r=(i-e)/s+2:r=(e-n)/s+4,s/=a<.5?l+o:2-l-o,r*=60):s=a>0&&a<1?0:r,new it(r,s,a,t.opacity)}function Ka(t,e,n,i){return arguments.length===1?pr(t):new it(t,e,n,i??1)}function it(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ti(it,Ka,Cr(un,{brighter(t){return t=t==null?Dn:Math.pow(Dn,t),new it(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?en:Math.pow(en,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new qe(li(t>=240?t-240:t+120,o,i),li(t,o,i),li(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new it(io(this.h),_n(this.s),_n(this.l),Tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tn(this.opacity);return`${t===1?"hsl(":"hsla("}${io(this.h)}, ${_n(this.s)*100}%, ${_n(this.l)*100}%${t===1?")":`, ${t})`}`}}));function io(t){return t=(t||0)%360,t<0?t+360:t}function _n(t){return Math.max(0,Math.min(1,t||0))}function li(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Mr=t=>()=>t;function Fa(t,e){return function(n){return t+n*e}}function Za(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function qa(t){return(t=+t)==1?zr:function(e,n){return n-e?Za(e,n,t):Mr(isNaN(e)?n:e)}}function zr(t,e){var n=e-t;return n?Fa(t,n):Mr(isNaN(t)?e:t)}const oo=function t(e){var n=qa(e);function i(o,l){var r=n((o=bi(o)).r,(l=bi(l)).r),s=n(o.g,l.g),a=n(o.b,l.b),u=zr(o.opacity,l.opacity);return function(f){return o.r=r(f),o.g=s(f),o.b=a(f),o.opacity=u(f),o+""}}return i.gamma=t,i}(1);function pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var wi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,si=new RegExp(wi.source,"g");function Ga(t){return function(){return t}}function Ua(t){return function(e){return t(e)+""}}function Ja(t,e){var n=wi.lastIndex=si.lastIndex=0,i,o,l,r=-1,s=[],a=[];for(t=t+"",e=e+"";(i=wi.exec(t))&&(o=si.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),s[r]?s[r]+=l:s[++r]=l),(i=i[0])===(o=o[0])?s[r]?s[r]+=o:s[++r]=o:(s[++r]=null,a.push({i:r,x:pt(i,o)})),n=si.lastIndex;return n<e.length&&(l=e.slice(n),s[r]?s[r]+=l:s[++r]=l),s.length<2?a[0]?Ua(a[0].x):Ga(e):(e=a.length,function(u){for(var f=0,h;f<e;++f)s[(h=a[f]).i]=h.x(u);return s.join("")})}var ro=180/Math.PI,ki={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pr(t,e,n,i,o,l){var r,s,a;return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,a/=s),t*i<e*n&&(t=-t,e=-e,a=-a,r=-r),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*ro,skewX:Math.atan(a)*ro,scaleX:r,scaleY:s}}var bn;function Qa(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ki:Pr(e.a,e.b,e.c,e.d,e.e,e.f)}function ja(t){return t==null||(bn||(bn=document.createElementNS("http://www.w3.org/2000/svg","g")),bn.setAttribute("transform",t),!(t=bn.transform.baseVal.consolidate()))?ki:(t=t.matrix,Pr(t.a,t.b,t.c,t.d,t.e,t.f))}function Nr(t,e,n,i){function o(u){return u.length?u.pop()+" ":""}function l(u,f,h,d,c,m){if(u!==h||f!==d){var y=c.push("translate(",null,e,null,n);m.push({i:y-4,x:pt(u,h)},{i:y-2,x:pt(f,d)})}else(h||d)&&c.push("translate("+h+e+d+n)}function r(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(o(h)+"rotate(",null,i)-2,x:pt(u,f)})):f&&h.push(o(h)+"rotate("+f+i)}function s(u,f,h,d){u!==f?d.push({i:h.push(o(h)+"skewX(",null,i)-2,x:pt(u,f)}):f&&h.push(o(h)+"skewX("+f+i)}function a(u,f,h,d,c,m){if(u!==h||f!==d){var y=c.push(o(c)+"scale(",null,",",null,")");m.push({i:y-4,x:pt(u,h)},{i:y-2,x:pt(f,d)})}else(h!==1||d!==1)&&c.push(o(c)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=t(u),f=t(f),l(u.translateX,u.translateY,f.translateX,f.translateY,h,d),r(u.rotate,f.rotate,h,d),s(u.skewX,f.skewX,h,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(c){for(var m=-1,y=d.length,_;++m<y;)h[(_=d[m]).i]=_.x(c);return h.join("")}}}var xa=Nr(Qa,"px, ","px)","deg)"),$a=Nr(ja,", ",")",")"),eu=1e-12;function lo(t){return((t=Math.exp(t))+1/t)/2}function tu(t){return((t=Math.exp(t))-1/t)/2}function nu(t){return((t=Math.exp(2*t))-1)/(t+1)}const iu=function t(e,n,i){function o(l,r){var s=l[0],a=l[1],u=l[2],f=r[0],h=r[1],d=r[2],c=f-s,m=h-a,y=c*c+m*m,_,g;if(y<eu)g=Math.log(d/u)/e,_=function(T){return[s+T*c,a+T*m,u*Math.exp(e*T*g)]};else{var E=Math.sqrt(y),w=(d*d-u*u+i*y)/(2*u*n*E),p=(d*d-u*u-i*y)/(2*d*n*E),V=Math.log(Math.sqrt(w*w+1)-w),K=Math.log(Math.sqrt(p*p+1)-p);g=(K-V)/e,_=function(T){var D=T*g,O=lo(V),X=u/(n*E)*(O*nu(e*D+V)-tu(V));return[s+X*c,a+X*m,u*O/lo(e*D+V)]}}return _.duration=g*1e3*e/Math.SQRT2,_}return o.rho=function(l){var r=Math.max(.001,+l),s=r*r,a=s*s;return t(r,s,a)},o}(Math.SQRT2,2,4);var Gt=0,jt=0,Jt=0,Or=1e3,Hn,xt,An=0,Dt=0,Qn=0,on=typeof performance=="object"&&performance.now?performance:Date,Dr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hi(){return Dt||(Dr(ou),Dt=on.now()+Qn)}function ou(){Dt=0}function In(){this._call=this._time=this._next=null}In.prototype=Tr.prototype={constructor:In,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Hi():+n)+(e==null?0:+e),!this._next&&xt!==this&&(xt?xt._next=this:Hn=this,xt=this),this._call=t,this._time=n,vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,vi())}};function Tr(t,e,n){var i=new In;return i.restart(t,e,n),i}function ru(){Hi(),++Gt;for(var t=Hn,e;t;)(e=Dt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Gt}function so(){Dt=(An=on.now())+Qn,Gt=jt=0;try{ru()}finally{Gt=0,su(),Dt=0}}function lu(){var t=on.now(),e=t-An;e>Or&&(Qn-=e,An=t)}function su(){for(var t,e=Hn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hn=n);xt=t,vi(i)}function vi(t){if(!Gt){jt&&(jt=clearTimeout(jt));var e=t-Dt;e>24?(t<1/0&&(jt=setTimeout(so,t-on.now()-Qn)),Jt&&(Jt=clearInterval(Jt))):(Jt||(An=on.now(),Jt=setInterval(lu,Or)),Gt=1,Dr(so))}}function ao(t,e,n){var i=new In;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var au=Un("start","end","cancel","interrupt"),uu=[],Hr=0,uo=1,Si=2,En=3,fo=4,Ei=5,Cn=6;function jn(t,e,n,i,o,l){var r=t.__transition;if(!r)t.__transition={};else if(n in r)return;fu(t,n,{name:e,index:i,group:o,on:au,tween:uu,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Hr})}function Ai(t,e){var n=rt(t,e);if(n.state>Hr)throw new Error("too late; already scheduled");return n}function ft(t,e){var n=rt(t,e);if(n.state>En)throw new Error("too late; already running");return n}function rt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fu(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Tr(l,0,n.time);function l(u){n.state=uo,n.timer.restart(r,n.delay,n.time),n.delay<=u&&r(u-n.delay)}function r(u){var f,h,d,c;if(n.state!==uo)return a();for(f in i)if(c=i[f],c.name===n.name){if(c.state===En)return ao(r);c.state===fo?(c.state=Cn,c.timer.stop(),c.on.call("interrupt",t,t.__data__,c.index,c.group),delete i[f]):+f<e&&(c.state=Cn,c.timer.stop(),c.on.call("cancel",t,t.__data__,c.index,c.group),delete i[f])}if(ao(function(){n.state===En&&(n.state=fo,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Si,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Si){for(n.state=En,o=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(c=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++h]=c);o.length=h+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ei,1),h=-1,d=o.length;++h<d;)o[h].call(t,f);n.state===Ei&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Cn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function pn(t,e){var n=t.__transition,i,o,l=!0,r;if(n){e=e==null?null:e+"";for(r in n){if((i=n[r]).name!==e){l=!1;continue}o=i.state>Si&&i.state<Ei,i.state=Cn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[r]}l&&delete t.__transition}}function cu(t){return this.each(function(){pn(this,t)})}function du(t,e){var n,i;return function(){var o=ft(this,t),l=o.tween;if(l!==n){i=n=l;for(var r=0,s=i.length;r<s;++r)if(i[r].name===e){i=i.slice(),i.splice(r,1);break}}o.tween=i}}function hu(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=ft(this,t),r=l.tween;if(r!==i){o=(i=r).slice();for(var s={name:e,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===e){o[a]=s;break}a===u&&o.push(s)}l.tween=o}}function gu(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=rt(this.node(),n).tween,o=0,l=i.length,r;o<l;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((e==null?du:hu)(n,t,e))}function Ii(t,e,n){var i=t._id;return t.each(function(){var o=ft(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return rt(o,i).value[e]}}function Ar(t,e){var n;return(typeof e=="number"?pt:e instanceof nn?oo:(n=nn(e))?(e=n,oo):Ja)(t,e)}function mu(t){return function(){this.removeAttribute(t)}}function yu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _u(t,e,n){var i,o=n+"",l;return function(){var r=this.getAttribute(t);return r===o?null:r===i?l:l=e(i=r,n)}}function bu(t,e,n){var i,o=n+"",l;return function(){var r=this.getAttributeNS(t.space,t.local);return r===o?null:r===i?l:l=e(i=r,n)}}function wu(t,e,n){var i,o,l;return function(){var r,s=n(this),a;return s==null?void this.removeAttribute(t):(r=this.getAttribute(t),a=s+"",r===a?null:r===i&&a===o?l:(o=a,l=e(i=r,s)))}}function ku(t,e,n){var i,o,l;return function(){var r,s=n(this),a;return s==null?void this.removeAttributeNS(t.space,t.local):(r=this.getAttributeNS(t.space,t.local),a=s+"",r===a?null:r===i&&a===o?l:(o=a,l=e(i=r,s)))}}function vu(t,e){var n=Jn(t),i=n==="transform"?$a:Ar;return this.attrTween(t,typeof e=="function"?(n.local?ku:wu)(n,i,Ii(this,"attr."+t,e)):e==null?(n.local?yu:mu)(n):(n.local?bu:_u)(n,i,e))}function Su(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Eu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Cu(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Eu(t,l)),n}return o._value=e,o}function pu(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Su(t,l)),n}return o._value=e,o}function Mu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Jn(t);return this.tween(n,(i.local?Cu:pu)(i,e))}function zu(t,e){return function(){Ai(this,t).delay=+e.apply(this,arguments)}}function Pu(t,e){return e=+e,function(){Ai(this,t).delay=e}}function Nu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zu:Pu)(e,t)):rt(this.node(),e).delay}function Ou(t,e){return function(){ft(this,t).duration=+e.apply(this,arguments)}}function Du(t,e){return e=+e,function(){ft(this,t).duration=e}}function Tu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ou:Du)(e,t)):rt(this.node(),e).duration}function Hu(t,e){if(typeof e!="function")throw new Error;return function(){ft(this,t).ease=e}}function Au(t){var e=this._id;return arguments.length?this.each(Hu(e,t)):rt(this.node(),e).ease}function Iu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ft(this,t).ease=n}}function Vu(t){if(typeof t!="function")throw new Error;return this.each(Iu(this._id,t))}function Xu(t){typeof t!="function"&&(t=dr(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],r=l.length,s=i[o]=[],a,u=0;u<r;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&s.push(a);return new kt(i,this._parents,this._name,this._id)}function Yu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,l=Math.min(i,o),r=new Array(i),s=0;s<l;++s)for(var a=e[s],u=n[s],f=a.length,h=r[s]=new Array(f),d,c=0;c<f;++c)(d=a[c]||u[c])&&(h[c]=d);for(;s<i;++s)r[s]=e[s];return new kt(r,this._parents,this._name,this._id)}function Ru(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Bu(t,e,n){var i,o,l=Ru(e)?Ai:ft;return function(){var r=l(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}function Lu(t,e){var n=this._id;return arguments.length<2?rt(this.node(),n).on.on(t):this.each(Bu(n,t,e))}function Wu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ku(){return this.on("end.remove",Wu(this._id))}function Fu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Oi(t));for(var i=this._groups,o=i.length,l=new Array(o),r=0;r<o;++r)for(var s=i[r],a=s.length,u=l[r]=new Array(a),f,h,d=0;d<a;++d)(f=s[d])&&(h=t.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,jn(u[d],e,n,d,u,rt(f,n)));return new kt(l,this._parents,e,n)}function Zu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cr(t));for(var i=this._groups,o=i.length,l=[],r=[],s=0;s<o;++s)for(var a=i[s],u=a.length,f,h=0;h<u;++h)if(f=a[h]){for(var d=t.call(f,f.__data__,h,a),c,m=rt(f,n),y=0,_=d.length;y<_;++y)(c=d[y])&&jn(c,e,n,y,d,m);l.push(d),r.push(f)}return new kt(l,r,e,n)}var qu=an.prototype.constructor;function Gu(){return new qu(this._groups,this._parents)}function Uu(t,e){var n,i,o;return function(){var l=qt(this,t),r=(this.style.removeProperty(t),qt(this,t));return l===r?null:l===n&&r===i?o:o=e(n=l,i=r)}}function Ir(t){return function(){this.style.removeProperty(t)}}function Ju(t,e,n){var i,o=n+"",l;return function(){var r=qt(this,t);return r===o?null:r===i?l:l=e(i=r,n)}}function Qu(t,e,n){var i,o,l;return function(){var r=qt(this,t),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(t),qt(this,t))),r===a?null:r===i&&a===o?l:(o=a,l=e(i=r,s))}}function ju(t,e){var n,i,o,l="style."+e,r="end."+l,s;return function(){var a=ft(this,t),u=a.on,f=a.value[l]==null?s||(s=Ir(e)):void 0;(u!==n||o!==f)&&(i=(n=u).copy()).on(r,o=f),a.on=i}}function xu(t,e,n){var i=(t+="")=="transform"?xa:Ar;return e==null?this.styleTween(t,Uu(t,i)).on("end.style."+t,Ir(t)):typeof e=="function"?this.styleTween(t,Qu(t,i,Ii(this,"style."+t,e))).each(ju(this._id,t)):this.styleTween(t,Ju(t,i,e),n).on("end.style."+t,null)}function $u(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function ef(t,e,n){var i,o;function l(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&$u(t,r,n)),i}return l._value=e,l}function tf(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,ef(t,e,n??""))}function nf(t){return function(){this.textContent=t}}function of(t){return function(){var e=t(this);this.textContent=e??""}}function rf(t){return this.tween("text",typeof t=="function"?of(Ii(this,"text",t)):nf(t==null?"":t+""))}function lf(t){return function(e){this.textContent=t.call(this,e)}}function sf(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&lf(o)),e}return i._value=t,i}function af(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,sf(t))}function uf(){for(var t=this._name,e=this._id,n=Vr(),i=this._groups,o=i.length,l=0;l<o;++l)for(var r=i[l],s=r.length,a,u=0;u<s;++u)if(a=r[u]){var f=rt(a,e);jn(a,t,n,u,r,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new kt(i,this._parents,t,n)}function ff(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(l,r){var s={value:r},a={value:function(){--o===0&&l()}};n.each(function(){var u=ft(this,i),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),u.on=e}),o===0&&l()})}var cf=0;function kt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Vr(){return++cf}var mt=an.prototype;kt.prototype={constructor:kt,select:Fu,selectAll:Zu,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:Xu,merge:Yu,selection:Gu,transition:uf,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:Lu,attr:vu,attrTween:Mu,style:xu,styleTween:tf,text:rf,textTween:af,remove:Ku,tween:gu,delay:Nu,duration:Tu,ease:Au,easeVarying:Vu,end:ff,[Symbol.iterator]:mt[Symbol.iterator]};function df(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var hf={time:null,delay:0,duration:250,ease:df};function gf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function mf(t){var e,n;t instanceof kt?(e=t._id,t=t._name):(e=Vr(),(n=hf).time=Hi(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var r=i[l],s=r.length,a,u=0;u<s;++u)(a=r[u])&&jn(a,t,e,u,r,n||gf(a,e));return new kt(i,this._parents,t,e)}an.prototype.interrupt=cu;an.prototype.transition=mf;const wn=t=>()=>t;function yf(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function yt(t,e,n){this.k=t,this.x=e,this.y=n}yt.prototype={constructor:yt,scale:function(t){return t===1?this:new yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xn=new yt(1,0,0);Xr.prototype=yt.prototype;function Xr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xn;return t.__zoom}function ai(t){t.stopImmediatePropagation()}function Qt(t){t.preventDefault(),t.stopImmediatePropagation()}function _f(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function bf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function co(){return this.__zoom||xn}function wf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function kf(){return navigator.maxTouchPoints||"ontouchstart"in this}function vf(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],r=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),r>l?(l+r)/2:Math.min(0,l)||Math.max(0,r))}function Yr(){var t=_f,e=bf,n=vf,i=wf,o=kf,l=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],s=250,a=iu,u=Un("start","zoom","end"),f,h,d,c=500,m=150,y=0,_=10;function g(b){b.property("__zoom",co).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",X).filter(o).on("touchstart.zoom",q).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,v,k,M){var P=b.selection?b.selection():b;P.property("__zoom",co),b!==P?V(b,v,k,M):P.interrupt().each(function(){K(this,arguments).event(M).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},g.scaleBy=function(b,v,k,M){g.scaleTo(b,function(){var P=this.__zoom.k,I=typeof v=="function"?v.apply(this,arguments):v;return P*I},k,M)},g.scaleTo=function(b,v,k,M){g.transform(b,function(){var P=e.apply(this,arguments),I=this.__zoom,B=k==null?p(P):typeof k=="function"?k.apply(this,arguments):k,U=I.invert(B),F=typeof v=="function"?v.apply(this,arguments):v;return n(w(E(I,F),B,U),P,r)},k,M)},g.translateBy=function(b,v,k,M){g.transform(b,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),r)},null,M)},g.translateTo=function(b,v,k,M,P){g.transform(b,function(){var I=e.apply(this,arguments),B=this.__zoom,U=M==null?p(I):typeof M=="function"?M.apply(this,arguments):M;return n(xn.translate(U[0],U[1]).scale(B.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof k=="function"?-k.apply(this,arguments):-k),I,r)},M,P)};function E(b,v){return v=Math.max(l[0],Math.min(l[1],v)),v===b.k?b:new yt(v,b.x,b.y)}function w(b,v,k){var M=v[0]-k[0]*b.k,P=v[1]-k[1]*b.k;return M===b.x&&P===b.y?b:new yt(b.k,M,P)}function p(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function V(b,v,k,M){b.on("start.zoom",function(){K(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(M).end()}).tween("zoom",function(){var P=this,I=arguments,B=K(P,I).event(M),U=e.apply(P,I),F=k==null?p(U):typeof k=="function"?k.apply(P,I):k,H=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),x=P.__zoom,te=typeof v=="function"?v.apply(P,I):v,_e=a(x.invert(F).concat(H/x.k),te.invert(F).concat(H/te.k));return function(z){if(z===1)z=te;else{var le=_e(z),ge=H/le[2];z=new yt(ge,F[0]-le[0]*ge,F[1]-le[1]*ge)}B.zoom(null,z)}})}function K(b,v,k){return!k&&b.__zooming||new T(b,v)}function T(b,v){this.that=b,this.args=v,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,v),this.taps=0}T.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,v){return this.mouse&&b!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var v=et(this.that).datum();u.call(b,this.that,new yf(b,{sourceEvent:this.sourceEvent,target:g,type:b,transform:this.that.__zoom,dispatch:u}),v)}};function D(b,...v){if(!t.apply(this,arguments))return;var k=K(this,v).event(b),M=this.__zoom,P=Math.max(l[0],Math.min(l[1],M.k*Math.pow(2,i.apply(this,arguments)))),I=nt(b);if(k.wheel)(k.mouse[0][0]!==I[0]||k.mouse[0][1]!==I[1])&&(k.mouse[1]=M.invert(k.mouse[0]=I)),clearTimeout(k.wheel);else{if(M.k===P)return;k.mouse=[I,M.invert(I)],pn(this),k.start()}Qt(b),k.wheel=setTimeout(B,m),k.zoom("mouse",n(w(E(M,P),k.mouse[0],k.mouse[1]),k.extent,r));function B(){k.wheel=null,k.end()}}function O(b,...v){if(d||!t.apply(this,arguments))return;var k=b.currentTarget,M=K(this,v,!0).event(b),P=et(b.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",H,!0),I=nt(b,k),B=b.clientX,U=b.clientY;Sr(b.view),ai(b),M.mouse=[I,this.__zoom.invert(I)],pn(this),M.start();function F(x){if(Qt(x),!M.moved){var te=x.clientX-B,_e=x.clientY-U;M.moved=te*te+_e*_e>y}M.event(x).zoom("mouse",n(w(M.that.__zoom,M.mouse[0]=nt(x,k),M.mouse[1]),M.extent,r))}function H(x){P.on("mousemove.zoom mouseup.zoom",null),Er(x.view,M.moved),Qt(x),M.event(x).end()}}function X(b,...v){if(t.apply(this,arguments)){var k=this.__zoom,M=nt(b.changedTouches?b.changedTouches[0]:b,this),P=k.invert(M),I=k.k*(b.shiftKey?.5:2),B=n(w(E(k,I),M,P),e.apply(this,v),r);Qt(b),s>0?et(this).transition().duration(s).call(V,B,M,b):et(this).call(g.transform,B,M,b)}}function q(b,...v){if(t.apply(this,arguments)){var k=b.touches,M=k.length,P=K(this,v,b.changedTouches.length===M).event(b),I,B,U,F;for(ai(b),B=0;B<M;++B)U=k[B],F=nt(U,this),F=[F,this.__zoom.invert(F),U.identifier],P.touch0?!P.touch1&&P.touch0[2]!==F[2]&&(P.touch1=F,P.taps=0):(P.touch0=F,I=!0,P.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(P.taps<2&&(h=F[0],f=setTimeout(function(){f=null},c)),pn(this),P.start())}}function $(b,...v){if(this.__zooming){var k=K(this,v).event(b),M=b.changedTouches,P=M.length,I,B,U,F;for(Qt(b),I=0;I<P;++I)B=M[I],U=nt(B,this),k.touch0&&k.touch0[2]===B.identifier?k.touch0[0]=U:k.touch1&&k.touch1[2]===B.identifier&&(k.touch1[0]=U);if(B=k.that.__zoom,k.touch1){var H=k.touch0[0],x=k.touch0[1],te=k.touch1[0],_e=k.touch1[1],z=(z=te[0]-H[0])*z+(z=te[1]-H[1])*z,le=(le=_e[0]-x[0])*le+(le=_e[1]-x[1])*le;B=E(B,Math.sqrt(z/le)),U=[(H[0]+te[0])/2,(H[1]+te[1])/2],F=[(x[0]+_e[0])/2,(x[1]+_e[1])/2]}else if(k.touch0)U=k.touch0[0],F=k.touch0[1];else return;k.zoom("touch",n(w(B,U,F),k.extent,r))}}function R(b,...v){if(this.__zooming){var k=K(this,v).event(b),M=b.changedTouches,P=M.length,I,B;for(ai(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},c),I=0;I<P;++I)B=M[I],k.touch0&&k.touch0[2]===B.identifier?delete k.touch0:k.touch1&&k.touch1[2]===B.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(B=nt(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<_)){var U=et(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:wn(+b),g):i},g.filter=function(b){return arguments.length?(t=typeof b=="function"?b:wn(!!b),g):t},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:wn(!!b),g):o},g.extent=function(b){return arguments.length?(e=typeof b=="function"?b:wn([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):e},g.scaleExtent=function(b){return arguments.length?(l[0]=+b[0],l[1]=+b[1],g):[l[0],l[1]]},g.translateExtent=function(b){return arguments.length?(r[0][0]=+b[0][0],r[1][0]=+b[1][0],r[0][1]=+b[0][1],r[1][1]=+b[1][1],g):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(s=+b,g):s},g.interpolate=function(b){return arguments.length?(a=b,g):a},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,g):Math.sqrt(y)},g.tapDistance=function(b){return arguments.length?(_=+b,g):_},g}const fn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},ho=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Tt;(function(t){t.Strict="strict",t.Loose="loose"})(Tt||(Tt={}));var ut;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ut||(ut={}));var Vn;(function(t){t.Partial="partial",t.Full="full"})(Vn||(Vn={}));const Ci={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Kt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Kt||(Kt={}));var Xn;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Xn||(Xn={}));var ce;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ce||(ce={}));const go={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top};function Sf(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function mo(t,e,n){if(!n)return;const i=[];t.forEach((o,l)=>{e!=null&&e.has(l)||i.push(o)}),i.length&&n(i)}function yo(t){return t===null?null:t?"valid":"invalid"}const Ef=t=>"id"in t&&"source"in t&&"target"in t,Rr=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),cn=(t,e=[0,0])=>{const{width:n,height:i}=ei(t),o=t.origin??e,l=n*o[0],r=i*o[1];return{x:t.position.x-l,y:t.position.y-r}},dn=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=zi(i);n=Vi(n,o)}}),Xi(n)},Br=(t,e,[n,i,o]=[0,0,1],l=!1,r=!1)=>{const s={...$n(e,[n,i,o]),width:e.width/o,height:e.height/o},a=[];for(const[,u]of t){const{measured:f,selectable:h=!0,hidden:d=!1}=u,c=f.width??u.width??u.initialWidth??null,m=f.height??u.height??u.initialHeight??null;if(r&&!h||d)continue;const y=Kr(s,Yi(u)),_=c===null||m===null,g=l&&y>0,E=(c??0)*(m??0);(_||g||y>=E||u.dragging)&&a.push(u)}return a},pi=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function _o(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function bo({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:l},r){if(t.size===0)return Promise.resolve(!1);const s=dn(t),a=Fr(s,e,n,(r==null?void 0:r.minZoom)??o,(r==null?void 0:r.maxZoom)??l,(r==null?void 0:r.padding)??.1);return await i.setViewport(a,{duration:r==null?void 0:r.duration}),Promise.resolve(!0)}function Cf(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.measured)==null?void 0:n.width)??0),e[1][1]-(((i=t.measured)==null?void 0:i.height)??0)]]}function pf({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:l}){const r=n.get(t),s=r.parentId?n.get(r.parentId):void 0,{x:a,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},f=r.origin??i;let h=Cf(r,r.extent||o);if(r.extent==="parent"&&!r.expandParent)if(!s)l==null||l("005",fn.error005());else{const c=r.measured.width,m=r.measured.height,y=s.measured.width,_=s.measured.height;c&&m&&y&&_&&(h=[[a,u],[a+y-c,u+_-m]])}else s&&ko(r.extent)&&(h=[[r.extent[0][0]+a,r.extent[0][1]+u],[r.extent[1][0]+a,r.extent[1][1]+u]]);const d=ko(h)?zf(e,h):e;return{position:{x:d.x-a+r.measured.width*f[0],y:d.y-u+r.measured.height*f[1]},positionAbsolute:d}}async function Mf({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const l=new Set(t.map(d=>d.id)),r=[];for(const d of n){if(d.deletable===!1)continue;const c=l.has(d.id),m=!c&&d.parentId&&r.find(y=>y.id===d.parentId);(c||m)&&r.push(d)}const s=new Set(e.map(d=>d.id)),a=i.filter(d=>d.deletable!==!1),f=pi(r,a);for(const d of a)s.has(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:r};const h=await o({nodes:r,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:r}:{edges:[],nodes:[]}:h}const Ut=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),zf=(t={x:0,y:0},e)=>({x:Ut(t.x,e[0][0],e[1][0]),y:Ut(t.y,e[0][1],e[1][1])}),wo=(t,e,n)=>t<e?Ut(Math.abs(t-e),1,e)/e:t>n?-Ut(Math.abs(t-n),1,e)/e:0,Lr=(t,e,n=15,i=40)=>{const o=wo(t.x,i,e.width-i)*n,l=wo(t.y,i,e.height-i)*n;return[o,l]},Vi=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Mi=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Xi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Yi=(t,e=[0,0])=>{var o,l;const{x:n,y:i}=Rr(t)?t.internals.positionAbsolute:cn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((l=t.measured)==null?void 0:l.height)??t.height??t.initialHeight??0}},zi=(t,e=[0,0])=>{var o,l;const{x:n,y:i}=Rr(t)?t.internals.positionAbsolute:cn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((l=t.measured)==null?void 0:l.height)??t.height??t.initialHeight??0)}},Wr=(t,e)=>Xi(Vi(Mi(t),Mi(e))),Kr=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Nt=t=>!isNaN(t)&&isFinite(t),Pf=(t,e)=>{},Ri=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),$n=({x:t,y:e},[n,i,o],l=!1,r=[1,1])=>{const s={x:(t-n)/o,y:(e-i)/o};return l?Ri(s,r):s},Nf=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),Fr=(t,e,n,i,o,l)=>{const r=e/(t.width*(1+l)),s=n/(t.height*(1+l)),a=Math.min(r,s),u=Ut(a,i,o),f=t.x+t.width/2,h=t.y+t.height/2,d=e/2-f*u,c=n/2-h*u;return{x:d,y:c,zoom:u}},Yn=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function ko(t){return t!==void 0&&t!=="parent"}function ei(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Rn(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function ui(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:l}=_t(t),r=$n({x:o,y:l},i),{x:s,y:a}=n?Ri(r,e):r;return{xSnapped:s,ySnapped:a,...r}}const Zr=t=>({width:t.offsetWidth,height:t.offsetHeight}),Of=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Df=["INPUT","SELECT","TEXTAREA"];function Tf(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Df.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const qr=t=>"clientX"in t,_t=(t,e)=>{var l,r;const n=qr(t),i=n?t.clientX:(l=t.touches)==null?void 0:l[0].clientX,o=n?t.clientY:(r=t.touches)==null?void 0:r[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},vo=(t,e,n,i,o)=>{const l=e.querySelectorAll(`.${t}`);return!l||!l.length?null:Array.from(l).map(r=>{const s=r.getBoundingClientRect();return{id:r.getAttribute("data-handleid"),type:t,nodeId:o,position:r.getAttribute("data-handlepos"),x:(s.left-n.left)/i,y:(s.top-n.top)/i,...Zr(r)}})};function Hf({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:r,targetControlY:s}){const a=t*.125+o*.375+r*.375+n*.125,u=e*.125+l*.375+s*.375+i*.125,f=Math.abs(a-t),h=Math.abs(u-e);return[a,u,f,h]}function kn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function So({pos:t,x1:e,y1:n,x2:i,y2:o,c:l}){switch(t){case ce.Left:return[e-kn(e-i,l),n];case ce.Right:return[e+kn(i-e,l),n];case ce.Top:return[e,n-kn(n-o,l)];case ce.Bottom:return[e,n+kn(o-n,l)]}}function Gr({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:l=ce.Top,curvature:r=.25}){const[s,a]=So({pos:n,x1:t,y1:e,x2:i,y2:o,c:r}),[u,f]=So({pos:l,x1:i,y1:o,x2:t,y2:e,c:r}),[h,d,c,m]=Hf({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${t},${e} C${s},${a} ${u},${f} ${i},${o}`,h,d,c,m]}function Ur({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,l=n<t?n+o:n-o,r=Math.abs(i-e)/2,s=i<e?i+r:i-r;return[l,s,o,r]}function Af({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const l=n||e.selected||t.selected,r=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(l?r:0)}function If({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const l=Vi(zi(t),zi(e));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const r={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Kr(r,Xi(l))>0}const Vf=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Xf=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Yf=(t,e)=>{if(!t.source||!t.target)return e;let n;return Ef(t)?n={...t}:n={...t,id:Vf(t)},Xf(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Jr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,l,r,s]=Ur({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,l,r,s]}const Eo={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},Rf=({source:t,sourcePosition:e=ce.Bottom,target:n})=>e===ce.Left||e===ce.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Co=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Bf({source:t,sourcePosition:e=ce.Bottom,target:n,targetPosition:i=ce.Top,center:o,offset:l}){const r=Eo[e],s=Eo[i],a={x:t.x+r.x*l,y:t.y+r.y*l},u={x:n.x+s.x*l,y:n.y+s.y*l},f=Rf({source:a,sourcePosition:e,target:u}),h=f.x!==0?"x":"y",d=f[h];let c=[],m,y;const _={x:0,y:0},g={x:0,y:0},[E,w,p,V]=Ur({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(r[h]*s[h]===-1){m=o.x??E,y=o.y??w;const T=[{x:m,y:a.y},{x:m,y:u.y}],D=[{x:a.x,y},{x:u.x,y}];r[h]===d?c=h==="x"?T:D:c=h==="x"?D:T}else{const T=[{x:a.x,y:u.y}],D=[{x:u.x,y:a.y}];if(h==="x"?c=r.x===d?D:T:c=r.y===d?T:D,e===i){const R=Math.abs(t[h]-n[h]);if(R<=l){const b=Math.min(l-1,l-R);r[h]===d?_[h]=(a[h]>t[h]?-1:1)*b:g[h]=(u[h]>n[h]?-1:1)*b}}if(e!==i){const R=h==="x"?"y":"x",b=r[h]===s[R],v=a[R]>u[R],k=a[R]<u[R];(r[h]===1&&(!b&&v||b&&k)||r[h]!==1&&(!b&&k||b&&v))&&(c=h==="x"?T:D)}const O={x:a.x+_.x,y:a.y+_.y},X={x:u.x+g.x,y:u.y+g.y},q=Math.max(Math.abs(O.x-c[0].x),Math.abs(X.x-c[0].x)),$=Math.max(Math.abs(O.y-c[0].y),Math.abs(X.y-c[0].y));q>=$?(m=(O.x+X.x)/2,y=c[0].y):(m=c[0].x,y=(O.y+X.y)/2)}return[[t,{x:a.x+_.x,y:a.y+_.y},...c,{x:u.x+g.x,y:u.y+g.y},n],m,y,p,V]}function Lf(t,e,n,i){const o=Math.min(Co(t,e)/2,Co(e,n)/2,i),{x:l,y:r}=e;if(t.x===l&&l===n.x||t.y===r&&r===n.y)return`L${l} ${r}`;if(t.y===r){const u=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${l+o*u},${r}Q ${l},${r} ${l},${r+o*f}`}const s=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${l},${r+o*a}Q ${l},${r} ${l+o*s},${r}`}function Bn({sourceX:t,sourceY:e,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:l=ce.Top,borderRadius:r=5,centerX:s,centerY:a,offset:u=20}){const[f,h,d,c,m]=Bf({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:l,center:{x:s,y:a},offset:u});return[f.reduce((_,g,E)=>{let w="";return E>0&&E<f.length-1?w=Lf(f[E-1],g,f[E+1],r):w=`${E===0?"M":"L"}${g.x} ${g.y}`,_+=w,_},""),h,d,c,m]}function po(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Wf(t){var h;const{sourceNode:e,targetNode:n}=t;if(!po(e)||!po(n))return null;const i=e.internals.handleBounds||Mo(e.handles),o=n.internals.handleBounds||Mo(n.handles),l=zo((i==null?void 0:i.source)??[],t.sourceHandle),r=zo(t.connectionMode===Tt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!l||!r)return(h=t.onError)==null||h.call(t,"008",fn.error008(l?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const s=(l==null?void 0:l.position)||ce.Bottom,a=(r==null?void 0:r.position)||ce.Top,u=Ln(e,l,s),f=Ln(n,r,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:s,targetPosition:a}}function Mo(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Ln(t,e,n=ce.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,l=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:r,height:s}=e??ei(t);if(i)return{x:o+r/2,y:l+s/2};switch((e==null?void 0:e.position)??n){case ce.Top:return{x:o+r/2,y:l};case ce.Right:return{x:o+r,y:l+s/2};case ce.Bottom:return{x:o+r/2,y:l+s};case ce.Left:return{x:o,y:l+s/2}}}function zo(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Pi(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Kf(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const l=new Set;return t.reduce((r,s)=>([s.markerStart||i,s.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Pi(a,e);l.has(u)||(r.push({id:u,color:a.color||n,...a}),l.add(u))}}),r),[]).sort((r,s)=>r.id.localeCompare(s.id))}const Qr={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}},Ff={...Qr,checkEquality:!0};function jr(t,e,n,i){var s,a;const o={...Ff,...i},l=new Map(e);e.clear(),n.clear();const r=i!=null&&i.elevateNodesOnSelect?1e3:0;for(const u of t){let f=l.get(u.id);o.checkEquality&&u===(f==null?void 0:f.internals.userNode)||(f={...o.defaults,...u,measured:{width:(s=u.measured)==null?void 0:s.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:cn(u,o.nodeOrigin),handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:$r(u,r),userNode:u}}),e.set(u.id,f),u.parentId&&xr(f,e,n,i)}}function xr(t,e,n,i){const o={...Qr,...i},l=t.parentId,r=e.get(l);if(!r){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}const s=n.get(l);s?s.set(t.id,t):n.set(l,new Map([[t.id,t]]));const a=i!=null&&i.elevateNodesOnSelect?1e3:0,{x:u,y:f,z:h}=Zf(t,r,o.nodeOrigin,a),d=t.internals.positionAbsolute,c=u!==d.x||f!==d.y;(c||h!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:c?{x:u,y:f}:d,z:h})}function $r(t,e){return(Nt(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Zf(t,e,n,i){const o=cn(t,n),l=$r(t,i),r=e.internals.z??0;return{x:e.internals.positionAbsolute.x+o.x,y:e.internals.positionAbsolute.y+o.y,z:r>l?r:l}}function qf(t,e,n,i=[0,0]){var r;const o=[],l=new Map;for(const s of t){const a=e.get(s.parentId);if(!a)continue;const u=((r=l.get(s.parentId))==null?void 0:r.expandedRect)??Yi(a),f=Wr(u,s.rect);l.set(s.parentId,{expandedRect:f,parent:a})}return l.size>0&&l.forEach(({expandedRect:s,parent:a},u)=>{var w;const f=a.internals.positionAbsolute,h=ei(a),d=a.origin??i,c=s.x<f.x?Math.round(Math.abs(f.x-s.x)):0,m=s.y<f.y?Math.round(Math.abs(f.y-s.y)):0,y=Math.max(h.width,Math.round(s.width)),_=Math.max(h.height,Math.round(s.height)),g=(y-h.width)*d[0],E=(_-h.height)*d[1];(c>0||m>0||g||E)&&(o.push({id:u,type:"position",position:{x:a.position.x-c+g,y:a.position.y-m+E}}),(w=n.get(u))==null||w.forEach(p=>{t.some(V=>V.id===p.id)||o.push({id:p.id,type:"position",position:{x:p.position.x+c,y:p.position.y+m}})})),(h.width<s.width||h.height<s.height||c||m)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(c?d[0]*c-g:0),height:_+(m?d[1]*m-E:0)}})}),o}function Gf(t,e,n,i,o){const l=i==null?void 0:i.querySelector(".xyflow__viewport");let r=!1;if(!l)return{changes:[],updatedInternals:r};const s=[],a=window.getComputedStyle(l),{m22:u}=new window.DOMMatrixReadOnly(a.transform),f=[];for(const h of t.values()){const d=e.get(h.id);if(d)if(d.hidden)d.internals={...d.internals,handleBounds:void 0},r=!0;else{const c=Zr(h.nodeElement),m=d.measured.width!==c.width||d.measured.height!==c.height;if(!!(c.width&&c.height&&(m||!d.internals.handleBounds||h.force))){const _=h.nodeElement.getBoundingClientRect();d.measured=c,d.internals={...d.internals,positionAbsolute:cn(d,o),handleBounds:{source:vo("source",h.nodeElement,_,u,d.id),target:vo("target",h.nodeElement,_,u,d.id)}},d.parentId&&xr(d,e,n,{nodeOrigin:o}),r=!0,m&&(s.push({id:d.id,type:"dimensions",dimensions:c}),d.expandParent&&d.parentId&&f.push({id:d.id,parentId:d.parentId,rect:Yi(d,o)}))}}}if(f.length>0){const h=qf(f,e,n,o);s.push(...h)}return{changes:s,updatedInternals:r}}async function Uf({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:l}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const r=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,l]],i),s=!!r&&(r.x!==n[0]||r.y!==n[1]||r.k!==n[2]);return Promise.resolve(s)}function el(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:l,sourceHandle:r=null,targetHandle:s=null}=i,a=`${o}-source-${r}`,u=`${l}-target-${s}`,f=t.get(a)||new Map,h=t.get(u)||new Map,d={edgeId:i.id,source:o,target:l,sourceHandle:r,targetHandle:s};e.set(i.id,i),t.set(a,f.set(`${l}-${s}`,d)),t.set(u,h.set(`${o}-${r}`,d))}}function tl(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:tl(n,e):!1}function Po(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function Jf(t,e,n,i){const o=new Map;for(const[l,r]of t)if((r.selected||r.id===i)&&(!r.parentId||!tl(r,t))&&(r.draggable||e&&typeof r.draggable>"u")){const s=t.get(l);s&&o.set(l,{id:l,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return o}function fi({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var r,s;const o=[];for(const[a,u]of e){const f=(r=n.get(a))==null?void 0:r.internals.userNode;f&&o.push({...f,position:u.position,dragging:i})}if(!t)return[o[0],o];const l=n.get(t).internals.userNode;return[{...l,position:((s=e.get(t))==null?void 0:s.position)||l.position,dragging:i},o]}function Qf({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let l={x:null,y:null},r=0,s=new Map,a=!1,u={x:0,y:0},f=null,h=!1,d=null,c=!1;function m({noDragClassName:_,handleSelector:g,domNode:E,isSelectable:w,nodeId:p,nodeClickDistance:V=0}){d=et(E);function K({x:X,y:q},$){const{nodeLookup:R,nodeExtent:b,snapGrid:v,snapToGrid:k,nodeOrigin:M,onNodeDrag:P,onSelectionDrag:I,onError:B,updateNodePositions:U}=e();l={x:X,y:q};let F=!1,H={x:0,y:0,x2:0,y2:0};if(s.size>1&&b){const x=dn(s);H=Mi(x)}for(const[x,te]of s){let _e={x:X-te.distance.x,y:q-te.distance.y};k&&(_e=Ri(_e,v));let z=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(s.size>1&&b&&!te.extent){const{positionAbsolute:fe}=te.internals,ye=fe.x-H.x+b[0][0],ke=fe.x+te.measured.width-H.x2+b[1][0],Me=fe.y-H.y+b[0][1],L=fe.y+te.measured.height-H.y2+b[1][1];z=[[ye,Me],[ke,L]]}const{position:le,positionAbsolute:ge}=pf({nodeId:x,nextPosition:_e,nodeLookup:R,nodeExtent:z,nodeOrigin:M,onError:B});F=F||te.position.x!==le.x||te.position.y!==le.y,te.position=le,te.internals.positionAbsolute=ge}if(F&&(U(s,!0),$&&(i||P||!p&&I))){const[x,te]=fi({nodeId:p,dragItems:s,nodeLookup:R});i==null||i($,s,x,te),P==null||P($,x,te),p||I==null||I($,te)}}async function T(){if(!f)return;const{transform:X,panBy:q,autoPanSpeed:$}=e(),[R,b]=Lr(u,f,$);(R!==0||b!==0)&&(l.x=(l.x??0)-R/X[2],l.y=(l.y??0)-b/X[2],await q({x:R,y:b})&&K(l,null)),r=requestAnimationFrame(T)}function D(X){var F;const{nodeLookup:q,multiSelectionActive:$,nodesDraggable:R,transform:b,snapGrid:v,snapToGrid:k,selectNodesOnDrag:M,onNodeDragStart:P,onSelectionDragStart:I,unselectNodesAndEdges:B}=e();h=!0,(!M||!w)&&!$&&p&&((F=q.get(p))!=null&&F.selected||B()),w&&M&&p&&(t==null||t(p));const U=ui(X.sourceEvent,{transform:b,snapGrid:v,snapToGrid:k});if(l=U,s=Jf(q,R,U,p),s.size>0&&(n||P||!p&&I)){const[H,x]=fi({nodeId:p,dragItems:s,nodeLookup:q});n==null||n(X.sourceEvent,s,H,x),P==null||P(X.sourceEvent,H,x),p||I==null||I(X.sourceEvent,x)}}const O=Da().clickDistance(V).on("start",X=>{const{domNode:q,nodeDragThreshold:$,transform:R,snapGrid:b,snapToGrid:v}=e();c=!1,$===0&&D(X),l=ui(X.sourceEvent,{transform:R,snapGrid:b,snapToGrid:v}),f=(q==null?void 0:q.getBoundingClientRect())||null,u=_t(X.sourceEvent,f)}).on("drag",X=>{const{autoPanOnNodeDrag:q,transform:$,snapGrid:R,snapToGrid:b,nodeDragThreshold:v}=e(),k=ui(X.sourceEvent,{transform:$,snapGrid:R,snapToGrid:b});if(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1&&(c=!0),!c){if(!a&&q&&h&&(a=!0,T()),!h){const M=k.xSnapped-(l.x??0),P=k.ySnapped-(l.y??0);Math.sqrt(M*M+P*P)>v&&D(X)}(l.x!==k.xSnapped||l.y!==k.ySnapped)&&s&&h&&(u=_t(X.sourceEvent,f),K(k,X.sourceEvent))}}).on("end",X=>{if(!(!h||c)&&(a=!1,h=!1,cancelAnimationFrame(r),s.size>0)){const{nodeLookup:q,updateNodePositions:$,onNodeDragStop:R,onSelectionDragStop:b}=e();if($(s,!1),o||R||!p&&b){const[v,k]=fi({nodeId:p,dragItems:s,nodeLookup:q,dragging:!1});o==null||o(X.sourceEvent,s,v,k),R==null||R(X.sourceEvent,v,k),p||b==null||b(X.sourceEvent,k)}}}).filter(X=>{const q=X.target;return!X.button&&(!_||!Po(q,`.${_}`,E))&&(!g||Po(q,g,E))});d.call(O)}function y(){d==null||d.on(".drag",null)}return{update:m,destroy:y}}function ci(t,e,n,i){let o=null;return[(e[n]||[]).reduce((r,s)=>{if(t.id===i.nodeId&&n===i.handleType&&s.id===i.handleId)o=s;else{const a=Ln(t,s,s.position,!0);r.push({...s,...a})}return r},[]),o]}function jf(t,e,n){let i=[],o=1/0;for(const l of n.values()){const r=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2));r<=e&&(r<o?i=[l]:r===o&&i.push(l),o=r)}return i.length?i.length===1?i[0]:i.find(l=>l.type==="target")||i[0]:null}function xf({nodeLookup:t,nodeId:e,handleId:n,handleType:i}){const o=new Map,l={nodeId:e,handleId:n,handleType:i};let r=null;for(const s of t.values())if(s.internals.handleBounds){const[a,u]=ci(s,s.internals.handleBounds,"source",l),[f,h]=ci(s,s.internals.handleBounds,"target",l);r=r||(u??h),[...a,...f].forEach(d=>o.set(`${d.nodeId}-${d.type}-${d.id}`,d))}if(!r){const s=t.get(e);if(s!=null&&s.internals.handleBounds){l.handleType=i==="source"?"target":"source";const[,a]=ci(s,s.internals.handleBounds,l.handleType,l);r=a}}return[o,r]}function nl(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function $f(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const il=()=>!0;function ec(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:l,isTarget:r,domNode:s,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:h,panBy:d,cancelConnection:c,onConnectStart:m,onConnect:y,onConnectEnd:_,isValidConnection:g=il,onReconnectEnd:E,updateConnection:w,getTransform:p,getFromHandle:V,autoPanSpeed:K}){const T=Of(t.target);let D=0,O;const{x:X,y:q}=_t(t),$=T==null?void 0:T.elementFromPoint(X,q),R=nl(l,$),b=s==null?void 0:s.getBoundingClientRect();if(!b||!R)return;let v=_t(t,b),k=!1,M=null,P=!1,I=null;const[B,U]=xf({nodeLookup:a,nodeId:o,handleId:i,handleType:R});function F(){if(!f||!b)return;const[fe,ye]=Lr(v,b,K);d({x:fe,y:ye}),D=requestAnimationFrame(F)}const H={...U,nodeId:o,type:R,position:U.position},x=a.get(o),_e={inProgress:!0,isValid:null,from:Ln(x,H,ce.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:x,to:v,toHandle:null,toPosition:go[H.position],toNode:null};w(_e);let z=_e;m==null||m(t,{nodeId:o,handleId:i,handleType:R});function le(fe){if(!V()||!H){ge(fe);return}const ye=p();v=_t(fe,b),O=jf($n(v,ye,!1,[1,1]),n,B),k||(F(),k=!0);const ke=ol(fe,{handle:O,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:r?"target":"source",isValidConnection:g,doc:T,lib:u,flowId:h,handleLookup:B});I=ke.handleDomNode,M=ke.connection,P=$f(!!O,ke.isValid);const Me={...z,isValid:P,to:O&&P?Nf({x:O.x,y:O.y},ye):v,toHandle:ke.toHandle,toPosition:P&&ke.toHandle?ke.toHandle.position:go[H.position],toNode:ke.toHandle?a.get(ke.toHandle.nodeId):null};P&&O&&z.toHandle&&Me.toHandle&&z.toHandle.type===Me.toHandle.type&&z.toHandle.nodeId===Me.toHandle.nodeId&&z.toHandle.id===Me.toHandle.id||(w(Me),z=Me)}function ge(fe){(O||I)&&M&&P&&(y==null||y(M)),_==null||_(fe),l&&(E==null||E(fe)),c(),cancelAnimationFrame(D),k=!1,P=!1,M=null,I=null,T.removeEventListener("mousemove",le),T.removeEventListener("mouseup",ge),T.removeEventListener("touchmove",le),T.removeEventListener("touchend",ge)}T.addEventListener("mousemove",le),T.addEventListener("mouseup",ge),T.addEventListener("touchmove",le),T.addEventListener("touchend",ge)}function ol(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l,doc:r,lib:s,flowId:a,isValidConnection:u=il,handleLookup:f}){const h=l==="target",d=e?r.querySelector(`.${s}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:c,y:m}=_t(t),y=r.elementFromPoint(c,m),_=y!=null&&y.classList.contains(`${s}-flow__handle`)?y:d,g={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const E=nl(void 0,_),w=_.getAttribute("data-nodeid"),p=_.getAttribute("data-handleid"),V=_.classList.contains("connectable"),K=_.classList.contains("connectableend");if(!w)return g;const T={source:h?w:i,sourceHandle:h?p:o,target:h?i:w,targetHandle:h?o:p};g.connection=T;const O=V&&K&&(n===Tt.Strict?h&&E==="source"||!h&&E==="target":w!==i||p!==o);g.isValid=O&&u(T);const X=f==null?void 0:f.get(`${w}-${E}-${p}`);X&&(g.toHandle={...X})}return g}const tc={onPointerDown:ec,isValid:ol};function nc({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=et(t);function l({translateExtent:s,width:a,height:u,zoomStep:f=10,pannable:h=!0,zoomable:d=!0,inversePan:c=!1}){const m=w=>{const p=n();if(w.sourceEvent.type!=="wheel"||!e)return;const V=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*f,K=p[2]*Math.pow(2,V);e.scaleTo(K)};let y=[0,0];const _=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(y=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const p=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const V=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],K=[V[0]-y[0],V[1]-y[1]];y=V;const T=i()*Math.max(p[2],Math.log(p[2]))*(c?-1:1),D={x:p[0]-K[0]*T,y:p[1]-K[1]*T},O=[[0,0],[a,u]];e.setViewportConstrained({x:D.x,y:D.y,zoom:p[2]},O,s)},E=Yr().on("start",_).on("zoom",h?g:null).on("zoom.wheel",d?m:null);o.call(E,{})}function r(){o.on("zoom",null)}return{update:l,destroy:r,pointer:nt}}const ic=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ti=t=>({x:t.x,y:t.y,zoom:t.k}),di=({x:t,y:e,zoom:n})=>xn.translate(t,e).scale(n),Rt=(t,e)=>t.target.closest(`.${e}`),rl=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),hi=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},ll=t=>{const e=t.ctrlKey&&Yn()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function oc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:r,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Rt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&r){const _=nt(f),g=ll(f),E=h*Math.pow(2,g);i.scaleTo(n,E,_,f);return}const d=f.deltaMode===1?20:1;let c=o===ut.Vertical?0:f.deltaX*d,m=o===ut.Horizontal?0:f.deltaY*d;!Yn()&&f.shiftKey&&o!==ut.Vertical&&(c=f.deltaY*d,m=0),i.translateBy(n,-(c/h)*l,-(m/h)*l,{internal:!0});const y=ti(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s==null||s(f,y)),t.isPanScrolling&&(a==null||a(f,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(f,y),t.isPanScrolling=!1},150))}}function rc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||Rt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function lc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var l,r,s;if((l=i.sourceEvent)!=null&&l.internal)return;const o=ti(i.transform);t.mouseButton=((r=i.sourceEvent)==null?void 0:r.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((s=i.sourceEvent)==null?void 0:s.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function sc({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return l=>{var r,s;t.usedRightMouseButton=!!(n&&rl(e,t.mouseButton??0)),(r=l.sourceEvent)!=null&&r.sync||i([l.transform.x,l.transform.y,l.transform.k]),o&&!((s=l.sourceEvent)!=null&&s.internal)&&(o==null||o(l.sourceEvent,ti(l.transform)))}}function ac({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:l}){return r=>{var s;if(!((s=r.sourceEvent)!=null&&s.internal)&&(t.isZoomingOrPanning=!1,l&&rl(e,t.mouseButton??0)&&!t.usedRightMouseButton&&r.sourceEvent&&l(r.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&ic(t.prevViewport,r.transform))){const a=ti(r.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(r.sourceEvent,a)},n?150:0)}}}function uc({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:r,noWheelClassName:s,noPanClassName:a,lib:u}){return f=>{var m;const h=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Rt(f,`${u}-flow__node`)||Rt(f,`${u}-flow__edge`)))return!0;if(!i&&!h&&!o&&!l&&!n||r||Rt(f,s)&&f.type==="wheel"||Rt(f,a)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((m=f.touches)==null?void 0:m.length)>1)return f.preventDefault(),!1;if(!h&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const c=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&c}}function fc({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:l,onPanZoom:r,onPanZoomStart:s,onPanZoomEnd:a,onTransformChange:u,onDraggingChange:f}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=Yr().clickDistance(!Nt(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),m=et(t).call(c);p({x:l.x,y:l.y,zoom:Ut(l.zoom,e,n)},[[0,0],[d.width,d.height]],o);const y=m.on("wheel.zoom"),_=m.on("dblclick.zoom");c.wheelDelta(ll);function g(R,b){return m?new Promise(v=>{c==null||c.transform(hi(m,b==null?void 0:b.duration,()=>v(!0)),R)}):Promise.resolve(!1)}function E({noWheelClassName:R,noPanClassName:b,onPaneContextMenu:v,userSelectionActive:k,panOnScroll:M,panOnDrag:P,panOnScrollMode:I,panOnScrollSpeed:B,preventScrolling:U,zoomOnPinch:F,zoomOnScroll:H,zoomOnDoubleClick:x,zoomActivationKeyPressed:te,lib:_e}){k&&!h.isZoomingOrPanning&&w();const le=M&&!te&&!k?oc({zoomPanValues:h,noWheelClassName:R,d3Selection:m,d3Zoom:c,panOnScrollMode:I,panOnScrollSpeed:B,zoomOnPinch:F,onPanZoomStart:s,onPanZoom:r,onPanZoomEnd:a}):rc({noWheelClassName:R,preventScrolling:U,d3ZoomHandler:y});if(m.on("wheel.zoom",le,{passive:!1}),!k){const fe=lc({zoomPanValues:h,onDraggingChange:f,onPanZoomStart:s});c.on("start",fe);const ye=sc({zoomPanValues:h,panOnDrag:P,onPaneContextMenu:!!v,onPanZoom:r,onTransformChange:u});c.on("zoom",ye);const ke=ac({zoomPanValues:h,panOnDrag:P,panOnScroll:M,onPaneContextMenu:v,onPanZoomEnd:a,onDraggingChange:f});c.on("end",ke)}const ge=uc({zoomActivationKeyPressed:te,panOnDrag:P,zoomOnScroll:H,panOnScroll:M,zoomOnDoubleClick:x,zoomOnPinch:F,userSelectionActive:k,noPanClassName:b,noWheelClassName:R,lib:_e});c.filter(ge),x?m.on("dblclick.zoom",_):m.on("dblclick.zoom",null)}function w(){c.on("zoom",null)}async function p(R,b,v){const k=di(R),M=c==null?void 0:c.constrain()(k,b,v);return M&&await g(M),new Promise(P=>P(M))}async function V(R,b){const v=di(R);return await g(v,b),new Promise(k=>k(v))}function K(R){if(m){const b=di(R),v=m.property("__zoom");(v.k!==R.zoom||v.x!==R.x||v.y!==R.y)&&(c==null||c.transform(m,b,null,{sync:!0}))}}function T(){const R=m?Xr(m.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function D(R,b){return m?new Promise(v=>{c==null||c.scaleTo(hi(m,b==null?void 0:b.duration,()=>v(!0)),R)}):Promise.resolve(!1)}function O(R,b){return m?new Promise(v=>{c==null||c.scaleBy(hi(m,b==null?void 0:b.duration,()=>v(!0)),R)}):Promise.resolve(!1)}function X(R){c==null||c.scaleExtent(R)}function q(R){c==null||c.translateExtent(R)}function $(R){const b=!Nt(R)||R<0?0:R;c==null||c.clickDistance(b)}return{update:E,destroy:w,setViewport:V,setViewportConstrained:p,getViewport:T,scaleTo:D,scaleBy:O,setScaleExtent:X,setTranslateExtent:q,syncViewport:K,setClickDistance:$}}var No;(function(t){t.Line="line",t.Handle="handle"})(No||(No={}));function cc(t){let e,n,i,o,l,r;const s=t[44].default,a=Ge(s,t,t[43],null);return{c(){e=Re("div"),a&&a.c(),this.h()},l(u){e=Be(u,"DIV",{"data-handleid":!0,"data-nodeid":!0,"data-handlepos":!0,"data-id":!0,class:!0,style:!0,role:!0,tabindex:!0});var f=ue(e);a&&a.l(f),f.forEach(N),this.h()},h(){S(e,"data-handleid",t[7]),S(e,"data-nodeid",t[14]),S(e,"data-handlepos",t[3]),S(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[1]||null)+"-"+t[2]),S(e,"class",i=pe(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),S(e,"style",t[4]),S(e,"role","button"),S(e,"tabindex","-1"),se(e,"valid",t[8]),se(e,"connectingto",t[6]),se(e,"connectingfrom",t[10]),se(e,"source",!t[12]),se(e,"target",t[12]),se(e,"connectablestart",t[0]),se(e,"connectableend",t[0]),se(e,"connectable",t[0]),se(e,"connectionindicator",t[0]&&(!t[11]||t[9]))},m(u,f){G(u,e,f),a&&a.m(e,null),o=!0,l||(r=[Pe(e,"mousedown",t[32]),Pe(e,"touchstart",t[32])],l=!0)},p(u,f){a&&a.p&&(!o||f[1]&4096)&&Ue(a,s,u,u[43],o?Qe(s,u[43],f,null):Je(u[43]),null),(!o||f[0]&128)&&S(e,"data-handleid",u[7]),(!o||f[0]&8)&&S(e,"data-handlepos",u[3]),(!o||f[0]&8198&&n!==(n=u[13]+"-"+u[14]+"-"+(u[1]||null)+"-"+u[2]))&&S(e,"data-id",n),(!o||f[0]&40&&i!==(i=pe(["svelte-flow__handle",`svelte-flow__handle-${u[3]}`,"nodrag","nopan",u[3],u[5]])))&&S(e,"class",i),(!o||f[0]&16)&&S(e,"style",u[4]),(!o||f[0]&296)&&se(e,"valid",u[8]),(!o||f[0]&104)&&se(e,"connectingto",u[6]),(!o||f[0]&1064)&&se(e,"connectingfrom",u[10]),(!o||f[0]&4136)&&se(e,"source",!u[12]),(!o||f[0]&4136)&&se(e,"target",u[12]),(!o||f[0]&41)&&se(e,"connectablestart",u[0]),(!o||f[0]&41)&&se(e,"connectableend",u[0]),(!o||f[0]&41)&&se(e,"connectable",u[0]),(!o||f[0]&2601)&&se(e,"connectionindicator",u[0]&&(!u[11]||u[9]))},i(u){o||(A(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&N(e),a&&a.d(u),l=!1,vt(r)}}}function dc(t,e,n){let i,o,l,r,s,a,u,f,h,d,c,m,y,_,g,E,w,p,V,K,T,D,O,X,{$$slots:q={},$$scope:$}=e,{id:R=void 0}=e,{type:b="source"}=e,{position:v=ce.Top}=e,{style:k=void 0}=e,{isConnectable:M=void 0}=e,{isValidConnection:P=void 0}=e,{onconnect:I=void 0}=e,{ondisconnect:B=void 0}=e,{class:U=void 0}=e;const F=Mn("svelteflow__node_id"),H=Mn("svelteflow__node_connectable");Z(t,H,Q=>n(42,X=Q));const x=Ae(),{connectionMode:te,domNode:_e,nodeLookup:z,connectionRadius:le,viewport:ge,isValidConnection:fe,lib:ye,addEdge:ke,onedgecreate:Me,panBy:L,cancelConnection:Te,updateConnection:ze,autoPanOnConnect:ct,edges:dt,connectionLookup:ht,onconnect:Le,onconnectstart:lt,onconnectend:j,flowId:St,connection:Et}=x;Z(t,te,Q=>n(39,h=Q)),Z(t,_e,Q=>n(54,D=Q)),Z(t,z,Q=>n(53,T=Q)),Z(t,le,Q=>n(55,O=Q)),Z(t,ge,Q=>n(45,m=Q)),Z(t,fe,Q=>n(50,w=Q)),Z(t,ye,Q=>n(52,K=Q)),Z(t,Me,Q=>n(49,E=Q)),Z(t,ct,Q=>n(51,V=Q)),Z(t,dt,Q=>n(41,c=Q)),Z(t,ht,Q=>n(40,d=Q)),Z(t,Le,Q=>n(48,g=Q)),Z(t,lt,Q=>n(47,_=Q)),Z(t,j,Q=>n(46,y=Q)),Z(t,St,Q=>n(13,p=Q)),Z(t,Et,Q=>n(38,f=Q));function W(Q){const gt=qr(Q);(gt&&Q.button===0||!gt)&&tc.onPointerDown(Q,{handleId:o,nodeId:F,isTarget:i,connectionRadius:O,domNode:D,nodeLookup:T,connectionMode:h,lib:K,autoPanOnConnect:V,flowId:p,isValidConnection:P??w,updateConnection:ze,cancelConnection:Te,panBy:L,onConnect:Ze=>{const je=E?E(Ze):Ze;je&&(ke(je),g==null||g(Ze))},onConnectStart:(Ze,je)=>{_==null||_(Ze,{nodeId:je.nodeId,handleId:je.handleId,handleType:je.handleType})},onConnectEnd:Ze=>{y==null||y(Ze)},getTransform:()=>[m.x,m.y,m.zoom],getFromHandle:()=>f.fromHandle})}let $e=null,Fe;return t.$$set=Q=>{"id"in Q&&n(1,R=Q.id),"type"in Q&&n(2,b=Q.type),"position"in Q&&n(3,v=Q.position),"style"in Q&&n(4,k=Q.style),"isConnectable"in Q&&n(0,M=Q.isConnectable),"isValidConnection"in Q&&n(33,P=Q.isValidConnection),"onconnect"in Q&&n(34,I=Q.onconnect),"ondisconnect"in Q&&n(35,B=Q.ondisconnect),"class"in Q&&n(5,U=Q.class),"$$scope"in Q&&n(43,$=Q.$$scope)},t.$$.update=()=>{var Q,gt,Ze,je,Ht,At,It,Vt,Ct;if(t.$$.dirty[0]&4&&n(12,i=b==="target"),t.$$.dirty[0]&1|t.$$.dirty[1]&2048&&n(0,M=M!==void 0?M:X),t.$$.dirty[0]&2&&n(7,o=R||null),t.$$.dirty[0]&6|t.$$.dirty[1]&1560&&(I||B)&&n(37,Fe=d.get(`${F}-${b}-${R||null}`)),t.$$.dirty[1]&120){if($e&&!Sf(Fe,$e)){const zt=Fe??new Map;mo($e,zt,B),mo(zt,$e,I)}n(36,$e=Fe??new Map)}t.$$.dirty[1]&128&&n(11,l=!!f.fromHandle),t.$$.dirty[0]&132|t.$$.dirty[1]&128&&n(10,r=((Q=f.fromHandle)==null?void 0:Q.nodeId)===F&&((gt=f.fromHandle)==null?void 0:gt.type)===b&&((Ze=f.fromHandle)==null?void 0:Ze.id)===o),t.$$.dirty[0]&132|t.$$.dirty[1]&128&&n(6,s=((je=f.toHandle)==null?void 0:je.nodeId)===F&&((Ht=f.toHandle)==null?void 0:Ht.type)===b&&((At=f.toHandle)==null?void 0:At.id)===o),t.$$.dirty[0]&132|t.$$.dirty[1]&384&&n(9,a=h===Tt.Strict?((It=f.fromHandle)==null?void 0:It.type)!==b:F!==((Vt=f.fromHandle)==null?void 0:Vt.nodeId)||o!==((Ct=f.fromHandle)==null?void 0:Ct.id)),t.$$.dirty[0]&64|t.$$.dirty[1]&128&&n(8,u=s&&f.isValid)},[M,R,b,v,k,U,s,o,u,a,r,l,i,p,F,H,te,_e,z,le,ge,fe,ye,Me,ct,dt,ht,Le,lt,j,St,Et,W,P,I,B,$e,Fe,f,h,d,c,X,$,q]}class Wn extends de{constructor(e){super(),he(this,e,dc,cc,me,{id:1,type:2,position:3,style:4,isConnectable:0,isValidConnection:33,onconnect:34,ondisconnect:35,class:5},null,[-1,-1])}}function hc(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",o,l,r,s;return e=new Wn({props:{type:"target",position:t[1]??ce.Top}}),r=new Wn({props:{type:"source",position:t[2]??ce.Bottom}}),{c(){ne(e.$$.fragment),n=Ne(),o=rn(i),l=Ne(),ne(r.$$.fragment)},l(u){re(e.$$.fragment,u),n=Oe(u),o=ln(u,i),l=Oe(u),re(r.$$.fragment,u)},m(u,f){ie(e,u,f),G(u,n,f),G(u,o,f),G(u,l,f),ie(r,u,f),s=!0},p(u,[f]){var c;const h={};f&2&&(h.position=u[1]??ce.Top),e.$set(h),(!s||f&1)&&i!==(i=((c=u[0])==null?void 0:c.label)+"")&&sn(o,i);const d={};f&4&&(d.position=u[2]??ce.Bottom),r.$set(d)},i(u){s||(A(e.$$.fragment,u),A(r.$$.fragment,u),s=!0)},o(u){Y(e.$$.fragment,u),Y(r.$$.fragment,u),s=!1},d(u){u&&(N(n),N(o),N(l)),oe(e,u),oe(r,u)}}}function gc(t,e,n){const i=["data","targetPosition","sourcePosition"];De(e,i);let{data:o={label:"Node"}}=e,{targetPosition:l=void 0}=e,{sourcePosition:r=void 0}=e;return t.$$set=s=>{e=Ee(Ee({},e),ot(s)),n(3,De(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,l=s.targetPosition),"sourcePosition"in s&&n(2,r=s.sourcePosition)},[o,l,r]}class sl extends de{constructor(e){super(),he(this,e,gc,hc,me,{data:0,targetPosition:1,sourcePosition:2})}}function mc(t){var r;let e=((r=t[0])==null?void 0:r.label)+"",n,i,o,l;return o=new Wn({props:{type:"source",position:t[1]??ce.Bottom}}),{c(){n=rn(e),i=Ne(),ne(o.$$.fragment)},l(s){n=ln(s,e),i=Oe(s),re(o.$$.fragment,s)},m(s,a){G(s,n,a),G(s,i,a),ie(o,s,a),l=!0},p(s,[a]){var f;(!l||a&1)&&e!==(e=((f=s[0])==null?void 0:f.label)+"")&&sn(n,e);const u={};a&2&&(u.position=s[1]??ce.Bottom),o.$set(u)},i(s){l||(A(o.$$.fragment,s),l=!0)},o(s){Y(o.$$.fragment,s),l=!1},d(s){s&&(N(n),N(i)),oe(o,s)}}}function yc(t,e,n){const i=["data","sourcePosition"];De(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:l=void 0}=e;return t.$$set=r=>{e=Ee(Ee({},e),ot(r)),n(2,De(e,i)),"data"in r&&n(0,o=r.data),"sourcePosition"in r&&n(1,l=r.sourcePosition)},[o,l]}class _c extends de{constructor(e){super(),he(this,e,yc,mc,me,{data:0,sourcePosition:1})}}function bc(t){var r;let e=((r=t[0])==null?void 0:r.label)+"",n,i,o,l;return o=new Wn({props:{type:"target",position:t[1]??ce.Top}}),{c(){n=rn(e),i=Ne(),ne(o.$$.fragment)},l(s){n=ln(s,e),i=Oe(s),re(o.$$.fragment,s)},m(s,a){G(s,n,a),G(s,i,a),ie(o,s,a),l=!0},p(s,[a]){var f;(!l||a&1)&&e!==(e=((f=s[0])==null?void 0:f.label)+"")&&sn(n,e);const u={};a&2&&(u.position=s[1]??ce.Top),o.$set(u)},i(s){l||(A(o.$$.fragment,s),l=!0)},o(s){Y(o.$$.fragment,s),l=!1},d(s){s&&(N(n),N(i)),oe(o,s)}}}function wc(t,e,n){const i=["data","targetPosition"];De(e,i);let{data:o={label:"Node"}}=e,{targetPosition:l=void 0}=e;return t.$$set=r=>{e=Ee(Ee({},e),ot(r)),n(2,De(e,i)),"data"in r&&n(0,o=r.data),"targetPosition"in r&&n(1,l=r.targetPosition)},[o,l]}class kc extends de{constructor(e){super(),he(this,e,wc,bc,me,{data:0,targetPosition:1})}}function vc(t,e,n){const i=[];return De(e,i),t.$$set=o=>{e=Ee(Ee({},e),ot(o)),n(0,De(e,i))},[]}class Sc extends de{constructor(e){super(),he(this,e,vc,null,me,{})}}function Oo(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Ec(t,{target:e,domNode:n}){return Oo(t,n,e),{async update({target:i,domNode:o}){Oo(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Cc(t){let e,n,i,o,l;const r=t[3].default,s=Ge(r,t,t[2],null);return{c(){e=Re("div"),s&&s.c()},l(a){e=Be(a,"DIV",{});var u=ue(e);s&&s.l(u),u.forEach(N)},m(a,u){G(a,e,u),s&&s.m(e,null),i=!0,o||(l=Ke(n=Ec.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(a,[u]){s&&s.p&&(!i||u&4)&&Ue(s,r,a,a[2],i?Qe(r,a[2],u,null):Je(a[2]),null),n&&Ie(n.update)&&u&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(A(s,a),i=!0)},o(a){Y(s,a),i=!1},d(a){a&&N(e),s&&s.d(a),o=!1,l()}}}function pc(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{domNode:r}=Ae();return Z(t,r,s=>n(0,i=s)),t.$$set=s=>{"$$scope"in s&&n(2,l=s.$$scope)},[i,r,l,o]}class Mc extends de{constructor(e){super(),he(this,e,pc,Cc,me,{})}}function al(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:l,elementsSelectable:r}=Ae();return s=>{const a=J(t).get(s);if(!a){console.warn("012",fn.error012(s));return}(a.selectable||J(r)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&J(i)&&l({nodes:[],edges:[a]}):o([s]))}}function zc(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,l,r;const s=t[5].default,a=Ge(s,t,t[7],null);return{c(){e=Re("div"),a&&a.c(),this.h()},l(u){e=Be(u,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var f=ue(e);a&&a.l(f),f.forEach(N),this.h()},h(){S(e,"class","svelte-flow__edge-label"),S(e,"style",n="pointer-events: all;"+t[0]),S(e,"role","button"),S(e,"tabindex","-1"),ae(e,"transform",i)},m(u,f){G(u,e,f),a&&a.m(e,null),o=!0,l||(r=[Pe(e,"keyup",Nc),Pe(e,"click",t[6])],l=!0)},p(u,f){a&&a.p&&(!o||f&128)&&Ue(a,s,u,u[7],o?Qe(s,u[7],f,null):Je(u[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+u[0]))&&S(e,"style",n);const h=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${u[1]}px,${u[2]}px)`)||h)&&ae(e,"transform",i)},i(u){o||(A(a,u),o=!0)},o(u){Y(a,u),o=!1},d(u){u&&N(e),a&&a.d(u),l=!1,vt(r)}}}function Pc(t){let e,n;return e=new Mc({props:{$$slots:{default:[zc]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&135&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}const Nc=()=>{};function Oc(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:l=void 0}=e,{x:r=void 0}=e,{y:s=void 0}=e;const a=al(),u=Mn("svelteflow__edge_id"),f=()=>{u&&a(u)};return t.$$set=h=>{"style"in h&&n(0,l=h.style),"x"in h&&n(1,r=h.x),"y"in h&&n(2,s=h.y),"$$scope"in h&&n(7,o=h.$$scope)},[l,r,s,a,u,i,f,o]}class Dc extends de{constructor(e){super(),he(this,e,Oc,Pc,me,{style:0,x:1,y:2})}}function Tc(t){let e;return{c(){e=ve("path"),this.h()},l(n){e=Se(n,"path",{d:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,class:!0}),ue(e).forEach(N),this.h()},h(){S(e,"d",t[1]),S(e,"stroke-opacity",0),S(e,"stroke-width",t[10]),S(e,"fill","none"),S(e,"class","svelte-flow__edge-interaction")},m(n,i){G(n,e,i)},p(n,i){i&2&&S(e,"d",n[1])},d(n){n&&N(e)}}}function Do(t){let e,n;return e=new Dc({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Hc]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&8&&(l.x=i[3]),o&16&&(l.y=i[4]),o&32&&(l.style=i[5]),o&4100&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Hc(t){let e;return{c(){e=rn(t[2])},l(n){e=ln(n,t[2])},m(n,i){G(n,e,i)},p(n,i){i&4&&sn(e,n[2])},d(n){n&&N(e)}}}function Ac(t){let e,n,i,o,l,r,s=t[10]&&Tc(t),a=t[2]&&Do(t);return{c(){e=ve("path"),i=Ne(),s&&s.c(),o=Ne(),a&&a.c(),l=Ce(),this.h()},l(u){e=Se(u,"path",{id:!0,d:!0,class:!0,"marker-start":!0,"marker-end":!0,fill:!0,style:!0}),ue(e).forEach(N),i=Oe(u),s&&s.l(u),o=Oe(u),a&&a.l(u),l=Ce(),this.h()},h(){S(e,"id",t[0]),S(e,"d",t[1]),S(e,"class",n=pe(["svelte-flow__edge-path",t[9]])),S(e,"marker-start",t[6]),S(e,"marker-end",t[7]),S(e,"fill","none"),S(e,"style",t[8])},m(u,f){G(u,e,f),G(u,i,f),s&&s.m(u,f),G(u,o,f),a&&a.m(u,f),G(u,l,f),r=!0},p(u,[f]){(!r||f&1)&&S(e,"id",u[0]),(!r||f&2)&&S(e,"d",u[1]),(!r||f&512&&n!==(n=pe(["svelte-flow__edge-path",u[9]])))&&S(e,"class",n),(!r||f&64)&&S(e,"marker-start",u[6]),(!r||f&128)&&S(e,"marker-end",u[7]),(!r||f&256)&&S(e,"style",u[8]),u[10]&&s.p(u,f),u[2]?a?(a.p(u,f),f&4&&A(a,1)):(a=Do(u),a.c(),A(a,1),a.m(l.parentNode,l)):a&&(Ve(),Y(a,1,1,()=>{a=null}),Xe())},i(u){r||(A(a),r=!0)},o(u){Y(a),r=!1},d(u){u&&(N(e),N(i),N(o),N(l)),s&&s.d(u),a&&a.d(u)}}}function Ic(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:l=void 0}=e,{labelX:r=void 0}=e,{labelY:s=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:u=void 0}=e,{markerEnd:f=void 0}=e,{style:h=void 0}=e,{interactionWidth:d=20}=e,{class:c=void 0}=e,m=d===void 0?20:d;return t.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,l=y.label),"labelX"in y&&n(3,r=y.labelX),"labelY"in y&&n(4,s=y.labelY),"labelStyle"in y&&n(5,a=y.labelStyle),"markerStart"in y&&n(6,u=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,h=y.style),"interactionWidth"in y&&n(11,d=y.interactionWidth),"class"in y&&n(9,c=y.class)},[i,o,l,r,s,a,u,f,h,c,m,d]}class ni extends de{constructor(e){super(),he(this,e,Ic,Ac,me,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function Vc(t){let e,n;return e=new ni({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Xc(t,e,n){let i,o,l;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(e,r);let{label:s=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=w=>{e=Ee(Ee({},e),ot(w)),n(15,De(e,r)),"label"in w&&n(0,s=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,y=w.sourcePosition),"targetX"in w&&n(12,_=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,E=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,l]=Gr({sourceX:c,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:E}),i,(n(7,o),n(9,c),n(10,m),n(12,_),n(13,g),n(11,y),n(14,E)),(n(6,l),n(9,c),n(10,m),n(12,_),n(13,g),n(11,y),n(14,E)))},[s,a,u,f,h,d,l,o,i,c,m,y,_,g,E]}class ul extends de{constructor(e){super(),he(this,e,Xc,Vc,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Yc(t){let e,n;return e=new ni({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Rc(t,e,n){let i,o,l;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(e,r);let{label:s=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=w=>{e=Ee(Ee({},e),ot(w)),n(15,De(e,r)),"label"in w&&n(0,s=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,y=w.sourcePosition),"targetX"in w&&n(12,_=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,E=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,l]=Bn({sourceX:c,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:E}),i,(n(7,o),n(9,c),n(10,m),n(12,_),n(13,g),n(11,y),n(14,E)),(n(6,l),n(9,c),n(10,m),n(12,_),n(13,g),n(11,y),n(14,E)))},[s,a,u,f,h,d,l,o,i,c,m,y,_,g,E]}class Bc extends de{constructor(e){super(),he(this,e,Rc,Yc,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Lc(t){let e,n;return e=new ni({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Wc(t,e,n){let i,o,l;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];De(e,r);let{label:s=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{targetX:y}=e,{targetY:_}=e;return t.$$set=g=>{e=Ee(Ee({},e),ot(g)),n(13,De(e,r)),"label"in g&&n(0,s=g.label),"labelStyle"in g&&n(1,a=g.labelStyle),"style"in g&&n(2,u=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,h=g.markerEnd),"interactionWidth"in g&&n(5,d=g.interactionWidth),"sourceX"in g&&n(9,c=g.sourceX),"sourceY"in g&&n(10,m=g.sourceY),"targetX"in g&&n(11,y=g.targetX),"targetY"in g&&n(12,_=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,l]=Jr({sourceX:c,sourceY:m,targetX:y,targetY:_}),i,(n(7,o),n(9,c),n(10,m),n(11,y),n(12,_)),(n(6,l),n(9,c),n(10,m),n(11,y),n(12,_)))},[s,a,u,f,h,d,l,o,i,c,m,y,_]}class Kc extends de{constructor(e){super(),he(this,e,Wc,Lc,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function Fc(t){let e,n;return e=new ni({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Zc(t,e,n){let i,o,l;const r=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];De(e,r);let{label:s=void 0}=e,{labelStyle:a=void 0}=e,{style:u=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:h=void 0}=e,{interactionWidth:d=void 0}=e,{sourceX:c}=e,{sourceY:m}=e,{sourcePosition:y}=e,{targetX:_}=e,{targetY:g}=e,{targetPosition:E}=e;return t.$$set=w=>{e=Ee(Ee({},e),ot(w)),n(15,De(e,r)),"label"in w&&n(0,s=w.label),"labelStyle"in w&&n(1,a=w.labelStyle),"style"in w&&n(2,u=w.style),"markerStart"in w&&n(3,f=w.markerStart),"markerEnd"in w&&n(4,h=w.markerEnd),"interactionWidth"in w&&n(5,d=w.interactionWidth),"sourceX"in w&&n(9,c=w.sourceX),"sourceY"in w&&n(10,m=w.sourceY),"sourcePosition"in w&&n(11,y=w.sourcePosition),"targetX"in w&&n(12,_=w.targetX),"targetY"in w&&n(13,g=w.targetY),"targetPosition"in w&&n(14,E=w.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,l]=Bn({sourceX:c,sourceY:m,targetX:_,targetY:g,sourcePosition:y,targetPosition:E,borderRadius:0}),i,(n(7,o),n(9,c),n(10,m),n(12,_),n(13,g),n(11,y),n(14,E)),(n(6,l),n(9,c),n(10,m),n(12,_),n(13,g),n(11,y),n(14,E)))},[s,a,u,f,h,d,l,o,i,c,m,y,_,g,E]}class qc extends de{constructor(e){super(),he(this,e,Zc,Fc,me,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function Gc(t,e){const n=t.set,i=e.set,o=J(t),l=J(e);let s=o.length===0&&l.length>0?l:o;t.set(s);const a=u=>{const f=n(u);return s=f,i(s),f};t.set=e.set=a,t.update=e.update=u=>a(u(s))}function Uc(t,e){const n=t.set,i=e.set;let o=J(e);t.set(o);const l=r=>{n(r),i(r),o=r};t.set=e.set=l,t.update=e.update=r=>l(r(o))}const Jc=(t,e,n)=>{if(!n)return;const i=J(t),o=e.set,l=n.set;let r=n?J(n):{x:0,y:0,zoom:1};e.set(r),e.set=s=>(o(s),l(s),r=s,s),n.set=s=>(i==null||i.syncViewport(s),o(s),l(s),r=s,s),e.update=s=>{e.set(s(r))},n.update=s=>{n.set(s(r))}},Qc=(t,e,n,i=[0,0])=>{const{subscribe:o,set:l,update:r}=ee([]);let s=t,a={},u=!0;const f=m=>(jr(m,e,n,{elevateNodesOnSelect:u,nodeOrigin:i,defaults:a,checkEquality:!1}),s=m,l(s),s),h=m=>f(m(s)),d=m=>{a=m},c=m=>{u=m.elevateNodesOnSelect??u};return f(s),{subscribe:o,set:f,update:h,setDefaultOptions:d,setOptions:c}},jc=(t,e,n,i)=>{const{subscribe:o,set:l,update:r}=ee([]);let s=t,a={};const u=d=>{const c=a?d.map(m=>({...a,...m})):d;el(e,n,c),s=c,l(s)},f=d=>u(d(s)),h=d=>{a=d};return u(s),{subscribe:o,set:u,update:f,setDefaultOptions:h}},fl={input:_c,output:kc,default:sl,group:Sc},cl={straight:Kc,smoothstep:Bc,default:ul,step:qc},xc=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:l})=>{const r=new Map,s=new Map,a=l??[0,0];jr(t,r,s,{nodeOrigin:a,elevateNodesOnSelect:!1,checkEquality:!1});const u=new Map,f=new Map;el(u,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const d=dn(r,{filter:c=>!!((c.width||c.initialWidth)&&(c.height||c.initialHeight))});h=Fr(d,n,i,.5,2,.1)}return{flowId:ee(null),nodes:Qc(t,r,s,a),nodeLookup:tt(r),parentLookup:tt(s),edgeLookup:tt(f),visibleNodes:tt([]),edges:jc(e,u,f),visibleEdges:tt([]),connectionLookup:tt(u),height:ee(500),width:ee(500),minZoom:ee(.5),maxZoom:ee(2),nodeOrigin:ee(a),nodeDragThreshold:ee(1),nodeExtent:ee(ho),translateExtent:ee(ho),autoPanOnNodeDrag:ee(!0),autoPanOnConnect:ee(!0),fitViewOnInit:ee(!1),fitViewOnInitDone:ee(!1),fitViewOptions:ee(void 0),panZoom:ee(null),snapGrid:ee(null),dragging:ee(!1),selectionRect:ee(null),selectionKeyPressed:ee(!1),multiselectionKeyPressed:ee(!1),deleteKeyPressed:ee(!1),panActivationKeyPressed:ee(!1),zoomActivationKeyPressed:ee(!1),selectionRectMode:ee(null),selectionMode:ee(Vn.Partial),nodeTypes:ee(fl),edgeTypes:ee(cl),viewport:ee(h),connectionMode:ee(Tt.Strict),domNode:ee(null),connection:tt(Ci),connectionLineType:ee(Kt.Bezier),connectionRadius:ee(20),isValidConnection:ee(()=>!0),nodesDraggable:ee(!0),nodesConnectable:ee(!0),elementsSelectable:ee(!0),selectNodesOnDrag:ee(!0),markers:tt([]),defaultMarkerColor:ee("#b1b1b7"),lib:tt("svelte"),onlyRenderVisibleElements:ee(!1),onerror:ee(Pf),ondelete:ee(void 0),onedgecreate:ee(void 0),onconnect:ee(void 0),onconnectstart:ee(void 0),onconnectend:ee(void 0),onbeforedelete:ee(void 0),nodesInitialized:ee(!1),edgesInitialized:ee(!1),viewportInitialized:ee(!1),initialized:tt(!1)}};function $c(t){const e=Bt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,l,r,s])=>o&&r&&s?n.filter(u=>{const f=i.get(u.source),h=i.get(u.target);return f&&h&&If({sourceNode:f,targetNode:h,width:r,height:s,transform:[l.x,l.y,l.zoom]})}):n);return Bt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,l])=>n.reduce((s,a)=>{const u=i.get(a.source),f=i.get(a.target);if(!u||!f)return s;const h=Wf({id:a.id,sourceNode:u,targetNode:f,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:l});return h&&s.push({...a,zIndex:Af({selected:a.selected,zIndex:a.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...h}),s},[]))}function ed(t){return Bt([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,l])=>{const r=[l.x,l.y,l.zoom];return n?Br(e,{x:0,y:0,width:i,height:o},r,!0):Array.from(e.values())})}const Bi=Symbol();function td({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l}){const r=xc({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l});function s(v){r.nodeTypes.set({...fl,...v})}function a(v){r.edgeTypes.set({...cl,...v})}function u(v){const k=J(r.edges);r.edges.set(Yf(v,k))}const f=(v,k=!1)=>{var P;const M=J(r.nodeLookup);for(const[I,B]of v){const U=(P=M.get(I))==null?void 0:P.internals.userNode;U&&(U.position=B.position,U.dragging=k)}r.nodes.update(I=>I)};function h(v){var I,B,U;const k=J(r.nodeLookup),{changes:M,updatedInternals:P}=Gf(v,k,J(r.parentLookup),J(r.domNode),J(r.nodeOrigin));if(P){if(!J(r.fitViewOnInitDone)&&J(r.fitViewOnInit)){const F=J(r.fitViewOptions),H=c({...F,nodes:F==null?void 0:F.nodes});r.fitViewOnInitDone.set(H)}for(const F of M){const H=(I=k.get(F.id))==null?void 0:I.internals.userNode;if(H)switch(F.type){case"dimensions":{const x={...H.measured,...F.dimensions};F.setAttributes&&(H.width=((B=F.dimensions)==null?void 0:B.width)??H.width,H.height=((U=F.dimensions)==null?void 0:U.height)??H.height),H.measured=x;break}case"position":H.position=F.position??H.position;break}}r.nodes.update(F=>F),J(r.nodesInitialized)||r.nodesInitialized.set(!0)}}function d(v){const k=J(r.panZoom);if(!k)return Promise.resolve(!1);const M=_o(J(r.nodeLookup),v);return bo({nodes:M,width:J(r.width),height:J(r.height),minZoom:J(r.minZoom),maxZoom:J(r.maxZoom),panZoom:k},v)}function c(v){const k=J(r.panZoom);if(!k)return!1;const M=_o(J(r.nodeLookup),v);return bo({nodes:M,width:J(r.width),height:J(r.height),minZoom:J(r.minZoom),maxZoom:J(r.maxZoom),panZoom:k},v),M.size>0}function m(v,k){const M=J(r.panZoom);return M?M.scaleBy(v,k):Promise.resolve(!1)}function y(v){return m(1.2,v)}function _(v){return m(1/1.2,v)}function g(v){const k=J(r.panZoom);k&&(k.setScaleExtent([v,J(r.maxZoom)]),r.minZoom.set(v))}function E(v){const k=J(r.panZoom);k&&(k.setScaleExtent([J(r.minZoom),v]),r.maxZoom.set(v))}function w(v){const k=J(r.panZoom);k&&(k.setTranslateExtent(v),r.translateExtent.set(v))}function p(v){let k=!1;return v.forEach(M=>{M.selected&&(M.selected=!1,k=!0)}),k}function V(v){var k;(k=J(r.panZoom))==null||k.setClickDistance(v)}function K(v){p((v==null?void 0:v.nodes)||J(r.nodes))&&r.nodes.set(J(r.nodes)),p((v==null?void 0:v.edges)||J(r.edges))&&r.edges.set(J(r.edges))}r.deleteKeyPressed.subscribe(async v=>{var k;if(v){const M=J(r.nodes),P=J(r.edges),I=M.filter(H=>H.selected),B=P.filter(H=>H.selected),{nodes:U,edges:F}=await Mf({nodesToRemove:I,edgesToRemove:B,nodes:M,edges:P,onBeforeDelete:J(r.onbeforedelete)});(U.length||F.length)&&(r.nodes.update(H=>H.filter(x=>!U.some(te=>te.id===x.id))),r.edges.update(H=>H.filter(x=>!F.some(te=>te.id===x.id))),(k=J(r.ondelete))==null||k({nodes:U,edges:F}))}});function T(v){const k=J(r.multiselectionKeyPressed);r.nodes.update(M=>M.map(P=>{const I=v.includes(P.id),B=k&&P.selected||I;return P.selected=B,P})),k||r.edges.update(M=>M.map(P=>(P.selected=!1,P)))}function D(v){const k=J(r.multiselectionKeyPressed);r.edges.update(M=>M.map(P=>{const I=v.includes(P.id),B=k&&P.selected||I;return P.selected=B,P})),k||r.nodes.update(M=>M.map(P=>(P.selected=!1,P)))}function O(v){var M;const k=(M=J(r.nodes))==null?void 0:M.find(P=>P.id===v);if(!k){console.warn("012",fn.error012(v));return}r.selectionRect.set(null),r.selectionRectMode.set(null),k.selected?k.selected&&J(r.multiselectionKeyPressed)&&K({nodes:[k],edges:[]}):T([v])}function X(v){const k=J(r.viewport);return Uf({delta:v,panZoom:J(r.panZoom),transform:[k.x,k.y,k.zoom],translateExtent:J(r.translateExtent),width:J(r.width),height:J(r.height)})}const q=ee(Ci),$=v=>{q.set({...v})};function R(){q.set(Ci)}function b(){r.fitViewOnInitDone.set(!1),r.selectionRect.set(null),r.selectionRectMode.set(null),r.snapGrid.set(null),r.isValidConnection.set(()=>!0),K(),R()}return{...r,visibleEdges:$c(r),visibleNodes:ed(r),connection:Bt([q,r.viewport],([v,k])=>v.inProgress?{...v,to:$n(v.to,[k.x,k.y,k.zoom])}:{...v}),markers:Bt([r.edges,r.defaultMarkerColor,r.flowId],([v,k,M])=>Kf(v,{defaultColor:k,id:M})),initialized:(()=>{let v=!1;const k=J(r.nodes).length,M=J(r.edges).length;return Bt([r.nodesInitialized,r.edgesInitialized,r.viewportInitialized],([P,I,B])=>v||(k===0?v=B:M===0?v=B&&P:v=B&&P&&I,v))})(),syncNodeStores:v=>Gc(r.nodes,v),syncEdgeStores:v=>Uc(r.edges,v),syncViewport:v=>Jc(r.panZoom,r.viewport,v),setNodeTypes:s,setEdgeTypes:a,addEdge:u,updateNodePositions:f,updateNodeInternals:h,zoomIn:y,zoomOut:_,fitView:v=>d(v),setMinZoom:g,setMaxZoom:E,setTranslateExtent:w,setPaneClickDistance:V,unselectNodesAndEdges:K,addSelectedNodes:T,addSelectedEdges:D,handleNodeSelection:O,panBy:X,updateConnection:$,cancelConnection:R,reset:b}}function Ae(){const t=Mn(Bi);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function nd({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l}){const r=td({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:l});return zn(Bi,{getStore:()=>r}),r}function id(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:l,viewport:r,dragging:s,translateExtent:a,paneClickDistance:u}=e,f=fc({domNode:t,minZoom:i,maxZoom:o,translateExtent:a,viewport:l,paneClickDistance:u,onTransformChange:d=>r.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:s.set}),h=f.getViewport();return r.set(h),n.set(f),f.update(e),{update(d){f.update(d)}}}function od(t){let e,n,i,o,l;const r=t[34].default,s=Ge(r,t,t[33],null);return{c(){e=Re("div"),s&&s.c(),this.h()},l(a){e=Be(a,"DIV",{class:!0});var u=ue(e);s&&s.l(u),u.forEach(N),this.h()},h(){S(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,u){G(a,e,u),s&&s.m(e,null),i=!0,o||(l=Ke(n=id.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||ut.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8]})),o=!0)},p(a,u){s&&s.p&&(!i||u[1]&4)&&Ue(s,r,a,a[33],i?Qe(r,a[33],u,null):Je(a[33]),null),n&&Ie(n.update)&&u[0]&262143&&n.update.call(null,{viewport:a[18],minZoom:a[12],maxZoom:a[13],initialViewport:a[11],dragging:a[23],panZoom:a[19],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[9],panOnDrag:a[10],panOnScrollSpeed:.5,panOnScrollMode:a[3]||ut.Free,zoomActivationKeyPressed:a[14],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a[15],translateExtent:a[16],lib:a[17],paneClickDistance:a[8]})},i(a){i||(A(s,a),i=!0)},o(a){Y(s,a),i=!1},d(a){a&&N(e),s&&s.d(a),o=!1,l()}}}function rd(t,e,n){let i,o,l,r,s,a,u,f,h,d,c,{$$slots:m={},$$scope:y}=e,{initialViewport:_=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:E=void 0}=e,{onMoveEnd:w=void 0}=e,{panOnScrollMode:p}=e,{preventScrolling:V}=e,{zoomOnScroll:K}=e,{zoomOnDoubleClick:T}=e,{zoomOnPinch:D}=e,{panOnDrag:O}=e,{panOnScroll:X}=e,{paneClickDistance:q}=e;const{viewport:$,panZoom:R,selectionRect:b,minZoom:v,maxZoom:k,dragging:M,translateExtent:P,lib:I,panActivationKeyPressed:B,zoomActivationKeyPressed:U,viewportInitialized:F}=Ae();return Z(t,b,H=>n(15,h=H)),Z(t,v,H=>n(12,a=H)),Z(t,k,H=>n(13,u=H)),Z(t,P,H=>n(16,d=H)),Z(t,I,H=>n(17,c=H)),Z(t,B,H=>n(32,s=H)),Z(t,U,H=>n(14,f=H)),Z(t,F,H=>n(35,r=H)),Fn(()=>{Pn(F,r=!0,r)}),t.$$set=H=>{"initialViewport"in H&&n(29,_=H.initialViewport),"onMoveStart"in H&&n(0,g=H.onMoveStart),"onMove"in H&&n(1,E=H.onMove),"onMoveEnd"in H&&n(2,w=H.onMoveEnd),"panOnScrollMode"in H&&n(3,p=H.panOnScrollMode),"preventScrolling"in H&&n(4,V=H.preventScrolling),"zoomOnScroll"in H&&n(5,K=H.zoomOnScroll),"zoomOnDoubleClick"in H&&n(6,T=H.zoomOnDoubleClick),"zoomOnPinch"in H&&n(7,D=H.zoomOnPinch),"panOnDrag"in H&&n(30,O=H.panOnDrag),"panOnScroll"in H&&n(31,X=H.panOnScroll),"paneClickDistance"in H&&n(8,q=H.paneClickDistance),"$$scope"in H&&n(33,y=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&536870912&&n(11,i=_||{x:0,y:0,zoom:1}),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&2&&n(10,o=s||O),t.$$.dirty[1]&3&&n(9,l=s||X)},[g,E,w,p,V,K,T,D,q,l,o,i,a,u,f,h,d,c,$,R,b,v,k,M,P,I,B,U,F,_,O,X,s,y,m]}class ld extends de{constructor(e){super(),he(this,e,rd,od,me,{initialViewport:29,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:30,panOnScroll:31,paneClickDistance:8},null,[-1,-1])}}function sd(t){let e,n,i,o;const l=t[28].default,r=Ge(l,t,t[27],null);return{c(){e=Re("div"),r&&r.c(),this.h()},l(s){e=Be(s,"DIV",{class:!0});var a=ue(e);r&&r.l(a),a.forEach(N),this.h()},h(){S(e,"class","svelte-flow__pane svelte-1esy7hx"),se(e,"draggable",t[0]),se(e,"dragging",t[4]),se(e,"selection",t[1])},m(s,a){G(s,e,a),r&&r.m(e,null),t[29](e),n=!0,i||(o=[Pe(e,"click",function(){Ie(t[3]?void 0:vn(t[15],t[2]))&&(t[3]?void 0:vn(t[15],t[2])).apply(this,arguments)}),Pe(e,"pointerdown",function(){Ie(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Pe(e,"pointermove",function(){Ie(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Pe(e,"pointerup",function(){Ie(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Pe(e,"contextmenu",function(){Ie(vn(t[19],t[2]))&&vn(t[19],t[2]).apply(this,arguments)})],i=!0)},p(s,a){t=s,r&&r.p&&(!n||a[0]&134217728)&&Ue(r,l,t,t[27],n?Qe(l,t[27],a,null):Je(t[27]),null),(!n||a[0]&1)&&se(e,"draggable",t[0]),(!n||a[0]&16)&&se(e,"dragging",t[4]),(!n||a[0]&2)&&se(e,"selection",t[1])},i(s){n||(A(r,s),n=!0)},o(s){Y(r,s),n=!1},d(s){s&&N(e),r&&r.d(s),t[29](null),i=!1,vt(o)}}}function vn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function To(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function ad(t,e,n){let i,o,l,r,s,a,u,f,h,d,c,m,y,{$$slots:_={},$$scope:g}=e,{panOnDrag:E=void 0}=e,{selectionOnDrag:w=void 0}=e;const p=Zn(),{nodes:V,nodeLookup:K,edges:T,viewport:D,dragging:O,elementsSelectable:X,selectionRect:q,selectionRectMode:$,selectionKeyPressed:R,selectionMode:b,panActivationKeyPressed:v,unselectNodesAndEdges:k}=Ae();Z(t,K,z=>n(36,h=z)),Z(t,T,z=>n(33,a=z)),Z(t,D,z=>n(35,f=z)),Z(t,O,z=>n(4,y=z)),Z(t,X,z=>n(25,c=z)),Z(t,q,z=>n(24,d=z)),Z(t,$,z=>n(23,s=z)),Z(t,R,z=>n(22,r=z)),Z(t,b,z=>n(34,u=z)),Z(t,v,z=>n(26,m=z));let M,P=null,I=[],B=!1;function U(z){if(B){B=!1;return}p("paneclick",{event:z}),k(),$.set(null)}function F(z){var fe,ye;if(P=M.getBoundingClientRect(),(ye=(fe=z.target)==null?void 0:fe.setPointerCapture)==null||ye.call(fe,z.pointerId),!X||!o||z.button!==0||z.target!==M||!P)return;const{x:le,y:ge}=_t(z,P);k(),q.set({width:0,height:0,startX:le,startY:ge,x:le,y:ge})}function H(z){if(!o||!P||!d)return;B=!0;const le=_t(z,P),ge=d.startX??0,fe=d.startY??0,ye={...d,x:le.x<ge?le.x:ge,y:le.y<fe?le.y:fe,width:Math.abs(le.x-ge),height:Math.abs(le.y-fe)},ke=I.map(ze=>ze.id),Me=pi(I,a).map(ze=>ze.id);I=Br(h,ye,[f.x,f.y,f.zoom],u===Vn.Partial,!0);const L=pi(I,a).map(ze=>ze.id),Te=I.map(ze=>ze.id);(ke.length!==Te.length||Te.some(ze=>!ke.includes(ze)))&&V.update(ze=>ze.map(To(Te))),(Me.length!==L.length||L.some(ze=>!Me.includes(ze)))&&T.update(ze=>ze.map(To(L))),$.set("user"),q.set(ye)}function x(z){var le,ge;z.button===0&&((ge=(le=z.target)==null?void 0:le.releasePointerCapture)==null||ge.call(le,z.pointerId),!o&&s==="user"&&z.target===M&&(U==null||U(z)),q.set(null),I.length>0&&Pn($,s="nodes",s),r&&(B=!1))}const te=z=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){z.preventDefault();return}p("panecontextmenu",{event:z})};function _e(z){Ni[z?"unshift":"push"](()=>{M=z,n(2,M)})}return t.$$set=z=>{"panOnDrag"in z&&n(0,E=z.panOnDrag),"selectionOnDrag"in z&&n(20,w=z.selectionOnDrag),"$$scope"in z&&n(27,g=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=m||E),t.$$.dirty[0]&24117248&&n(1,o=r||d||w&&i!==!0),t.$$.dirty[0]&41943042&&n(3,l=c&&(o||s==="user"))},[E,o,M,l,y,K,T,D,O,X,q,$,R,b,v,U,F,H,x,te,w,i,r,s,d,c,m,g,_,_e]}class ud extends de{constructor(e){super(),he(this,e,ad,sd,me,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function fd(t){let e,n;const i=t[3].default,o=Ge(i,t,t[2],null);return{c(){e=Re("div"),o&&o.c(),this.h()},l(l){e=Be(l,"DIV",{class:!0,style:!0});var r=ue(e);o&&o.l(r),r.forEach(N),this.h()},h(){S(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),ae(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(l,r){G(l,e,r),o&&o.m(e,null),n=!0},p(l,[r]){o&&o.p&&(!n||r&4)&&Ue(o,i,l,l[2],n?Qe(i,l[2],r,null):Je(l[2]),null),(!n||r&1)&&ae(e,"transform","translate("+l[0].x+"px, "+l[0].y+"px) scale("+l[0].zoom+")")},i(l){n||(A(o,l),n=!0)},o(l){Y(o,l),n=!1},d(l){l&&N(e),o&&o.d(l)}}}function cd(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{viewport:r}=Ae();return Z(t,r,s=>n(0,i=s)),t.$$set=s=>{"$$scope"in s&&n(2,l=s.$$scope)},[i,r,l,o]}class dd extends de{constructor(e){super(),he(this,e,cd,fd,me,{})}}function dl(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:r}=e,s=Qf({onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:r,getStoreItems:()=>{const u=J(n.snapGrid),f=J(n.viewport);return{nodes:J(n.nodes),nodeLookup:J(n.nodeLookup),edges:J(n.edges),nodeExtent:J(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:J(n.nodeOrigin),multiSelectionActive:J(n.multiselectionKeyPressed),domNode:J(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:J(n.autoPanOnNodeDrag),nodesDraggable:J(n.nodesDraggable),selectNodesOnDrag:J(n.selectNodesOnDrag),nodeDragThreshold:J(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(u,f){if(f.disabled){s.destroy();return}s.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return a(t,e),{update(u){a(t,u)},destroy(){s.destroy()}}}function hd({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:l}){if(o===void 0&&l===void 0){const r=t??n,s=e??i;return{width:r?`width:${r}px;`:"",height:s?`height:${s}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Ho(t){let e,n,i,o,l,r=`translate(${t[12]}px, ${t[13]}px)`,s,a,u;var f=t[27];function h(d,c){return{props:{data:d[2],id:d[1],selected:d[3],selectable:d[5],deletable:d[7],sourcePosition:d[14],targetPosition:d[15],zIndex:d[16],dragging:d[9],draggable:d[4],dragHandle:d[19],parentId:d[21],type:d[25],isConnectable:d[28],positionAbsoluteX:d[12],positionAbsoluteY:d[13],width:d[17],height:d[18]}}}return f&&(n=Nn(f,h(t))),{c(){e=Re("div"),n&&ne(n.$$.fragment),this.h()},l(d){e=Be(d,"DIV",{"data-id":!0,class:!0,style:!0});var c=ue(e);n&&re(n.$$.fragment,c),c.forEach(N),this.h()},h(){S(e,"data-id",t[1]),S(e,"class",i=pe(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),S(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),se(e,"dragging",t[9]),se(e,"selected",t[3]),se(e,"draggable",t[4]),se(e,"connectable",t[6]),se(e,"selectable",t[5]),se(e,"nopan",t[4]),se(e,"parent",t[11]),ae(e,"z-index",t[16]),ae(e,"transform",r),ae(e,"visibility",t[20]?"visible":"hidden")},m(d,c){G(d,e,c),n&&ie(n,e,null),t[50](e),s=!0,a||(u=[Ke(l=dl.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[31],onDrag:t[47],onDragStart:t[48],onDragStop:t[49],store:t[29]})),Pe(e,"click",t[34]),Pe(e,"mouseenter",t[51]),Pe(e,"mouseleave",t[52]),Pe(e,"mousemove",t[53]),Pe(e,"contextmenu",t[54])],a=!0)},p(d,c){if(c[0]&134217728&&f!==(f=d[27])){if(n){Ve();const y=n;Y(y.$$.fragment,1,0,()=>{oe(y,1)}),Xe()}f?(n=Nn(f,h(d)),ne(n.$$.fragment),A(n.$$.fragment,1),ie(n,e,null)):n=null}else if(f){const y={};c[0]&4&&(y.data=d[2]),c[0]&2&&(y.id=d[1]),c[0]&8&&(y.selected=d[3]),c[0]&32&&(y.selectable=d[5]),c[0]&128&&(y.deletable=d[7]),c[0]&16384&&(y.sourcePosition=d[14]),c[0]&32768&&(y.targetPosition=d[15]),c[0]&65536&&(y.zIndex=d[16]),c[0]&512&&(y.dragging=d[9]),c[0]&16&&(y.draggable=d[4]),c[0]&524288&&(y.dragHandle=d[19]),c[0]&2097152&&(y.parentId=d[21]),c[0]&33554432&&(y.type=d[25]),c[0]&268435456&&(y.isConnectable=d[28]),c[0]&4096&&(y.positionAbsoluteX=d[12]),c[0]&8192&&(y.positionAbsoluteY=d[13]),c[0]&131072&&(y.width=d[17]),c[0]&262144&&(y.height=d[18]),n.$set(y)}(!s||c[0]&2)&&S(e,"data-id",d[1]),(!s||c[0]&41943040&&i!==(i=pe(["svelte-flow__node",`svelte-flow__node-${d[25]}`,d[23]])))&&S(e,"class",i),(!s||c[0]&67109888&&o!==(o=(d[10]??"")+";"+d[26].width+d[26].height))&&S(e,"style",o),l&&Ie(l.update)&&c[0]&4718626&&l.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[19],noDragClass:"nodrag",nodeClickDistance:d[22],onNodeMouseDown:d[31],onDrag:d[47],onDragStart:d[48],onDragStop:d[49],store:d[29]}),(!s||c[0]&41943552)&&se(e,"dragging",d[9]),(!s||c[0]&41943048)&&se(e,"selected",d[3]),(!s||c[0]&41943056)&&se(e,"draggable",d[4]),(!s||c[0]&41943104)&&se(e,"connectable",d[6]),(!s||c[0]&41943072)&&se(e,"selectable",d[5]),(!s||c[0]&41943056)&&se(e,"nopan",d[4]),(!s||c[0]&41945088)&&se(e,"parent",d[11]);const m=c[0]&67109888;(c[0]&67175424||m)&&ae(e,"z-index",d[16]),(c[0]&67122176&&r!==(r=`translate(${d[12]}px, ${d[13]}px)`)||m)&&ae(e,"transform",r),(c[0]&68158464||m)&&ae(e,"visibility",d[20]?"visible":"hidden")},i(d){s||(n&&A(n.$$.fragment,d),s=!0)},o(d){n&&Y(n.$$.fragment,d),s=!1},d(d){d&&N(e),n&&oe(n),t[50](null),a=!1,vt(u)}}}function gd(t){let e,n,i=!t[8]&&Ho(t);return{c(){i&&i.c(),e=Ce()},l(o){i&&i.l(o),e=Ce()},m(o,l){i&&i.m(o,l),G(o,e,l),n=!0},p(o,l){o[8]?i&&(Ve(),Y(i,1,1,()=>{i=null}),Xe()):i?(i.p(o,l),l[0]&256&&A(i,1)):(i=Ho(o),i.c(),A(i,1),i.m(e.parentNode,e))},i(o){n||(A(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function md(t,e,n){let i,o,l,r,s,a,{node:u}=e,{id:f}=e,{data:h={}}=e,{selected:d=!1}=e,{draggable:c=void 0}=e,{selectable:m=void 0}=e,{connectable:y=!0}=e,{deletable:_=!0}=e,{hidden:g=!1}=e,{dragging:E=!1}=e,{resizeObserver:w=null}=e,{style:p=void 0}=e,{type:V="default"}=e,{isParent:K=!1}=e,{positionX:T}=e,{positionY:D}=e,{sourcePosition:O=void 0}=e,{targetPosition:X=void 0}=e,{zIndex:q}=e,{measuredWidth:$=void 0}=e,{measuredHeight:R=void 0}=e,{initialWidth:b=void 0}=e,{initialHeight:v=void 0}=e,{width:k=void 0}=e,{height:M=void 0}=e,{dragHandle:P=void 0}=e,{initialized:I=!1}=e,{parentId:B=void 0}=e,{nodeClickDistance:U=void 0}=e,{class:F=""}=e;const H=Ae(),{nodeTypes:x,nodeDragThreshold:te,selectNodesOnDrag:_e,handleNodeSelection:z,updateNodeInternals:le}=H;Z(t,x,W=>n(46,s=W));let ge,fe=null;const ye=Zn(),ke=ee(y);Z(t,ke,W=>n(28,a=W));let Me,L,Te;zn("svelteflow__node_id",f),zn("svelteflow__node_connectable",ke),ar(()=>{fe&&(w==null||w.unobserve(fe))});function ze(W){m&&(!J(_e)||!c||J(te)>0)&&z(f),ye("nodeclick",{node:u.internals.userNode,event:W})}const ct=(W,$e,Fe,Q)=>{ye("nodedrag",{event:W,targetNode:Fe,nodes:Q})},dt=(W,$e,Fe,Q)=>{ye("nodedragstart",{event:W,targetNode:Fe,nodes:Q})},ht=(W,$e,Fe,Q)=>{ye("nodedragstop",{event:W,targetNode:Fe,nodes:Q})};function Le(W){Ni[W?"unshift":"push"](()=>{ge=W,n(24,ge)})}const lt=W=>ye("nodemouseenter",{node:u,event:W}),j=W=>ye("nodemouseleave",{node:u,event:W}),St=W=>ye("nodemousemove",{node:u,event:W}),Et=W=>ye("nodecontextmenu",{node:u,event:W});return t.$$set=W=>{"node"in W&&n(0,u=W.node),"id"in W&&n(1,f=W.id),"data"in W&&n(2,h=W.data),"selected"in W&&n(3,d=W.selected),"draggable"in W&&n(4,c=W.draggable),"selectable"in W&&n(5,m=W.selectable),"connectable"in W&&n(6,y=W.connectable),"deletable"in W&&n(7,_=W.deletable),"hidden"in W&&n(8,g=W.hidden),"dragging"in W&&n(9,E=W.dragging),"resizeObserver"in W&&n(35,w=W.resizeObserver),"style"in W&&n(10,p=W.style),"type"in W&&n(36,V=W.type),"isParent"in W&&n(11,K=W.isParent),"positionX"in W&&n(12,T=W.positionX),"positionY"in W&&n(13,D=W.positionY),"sourcePosition"in W&&n(14,O=W.sourcePosition),"targetPosition"in W&&n(15,X=W.targetPosition),"zIndex"in W&&n(16,q=W.zIndex),"measuredWidth"in W&&n(37,$=W.measuredWidth),"measuredHeight"in W&&n(38,R=W.measuredHeight),"initialWidth"in W&&n(39,b=W.initialWidth),"initialHeight"in W&&n(40,v=W.initialHeight),"width"in W&&n(17,k=W.width),"height"in W&&n(18,M=W.height),"dragHandle"in W&&n(19,P=W.dragHandle),"initialized"in W&&n(20,I=W.initialized),"parentId"in W&&n(21,B=W.parentId),"nodeClickDistance"in W&&n(22,U=W.nodeClickDistance),"class"in W&&n(23,F=W.class)},t.$$.update=()=>{t.$$.dirty[1]&32&&n(25,i=V||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(45,o=!!s[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(27,l=s[i]||sl),t.$$.dirty[1]&16416&&(o||console.warn("003",fn.error003(V))),t.$$.dirty[0]&393216|t.$$.dirty[1]&960&&n(26,r=hd({width:k,height:M,initialWidth:b,initialHeight:v,measuredWidth:$,measuredHeight:R})),t.$$.dirty[0]&64&&ke.set(!!y),t.$$.dirty[0]&50380802|t.$$.dirty[1]&14336&&((Me&&i!==Me||L&&O!==L||Te&&X!==Te)&&requestAnimationFrame(()=>le(new Map([[f,{id:f,nodeElement:ge,force:!0}]]))),n(42,Me=i),n(43,L=O),n(44,Te=X)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&1040&&w&&(ge!==fe||!I)&&(fe&&w.unobserve(fe),ge&&w.observe(ge),n(41,fe=ge))},[u,f,h,d,c,m,y,_,g,E,p,K,T,D,O,X,q,k,M,P,I,B,U,F,ge,i,r,l,a,H,x,z,ye,ke,ze,w,V,$,R,b,v,fe,Me,L,Te,o,s,ct,dt,ht,Le,lt,j,St,Et]}class yd extends de{constructor(e){super(),he(this,e,md,gd,sr,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:35,style:10,type:36,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:37,measuredHeight:38,initialWidth:39,initialHeight:40,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:_d}=Kl;function Ao(t,e,n){const i=t.slice();return i[21]=e[n],i}function Io(t,e){let n,i,o;return i=new yd({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Rn(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Ce(),ne(i.$$.fragment),this.h()},l(l){n=Ce(),re(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,r){G(l,n,r),ie(i,l,r),o=!0},p(l,r){e=l;const s={};r&2&&(s.node=e[21]),r&2&&(s.id=e[21].id),r&2&&(s.data=e[21].data),r&2&&(s.selected=!!e[21].selected),r&2&&(s.hidden=!!e[21].hidden),r&6&&(s.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),r&10&&(s.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),r&18&&(s.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),r&2&&(s.deletable=e[21].deletable??!0),r&2&&(s.positionX=e[21].internals.positionAbsolute.x),r&2&&(s.positionY=e[21].internals.positionAbsolute.y),r&34&&(s.isParent=e[5].has(e[21].id)),r&2&&(s.style=e[21].style),r&2&&(s.class=e[21].class),r&2&&(s.type=e[21].type??"default"),r&2&&(s.sourcePosition=e[21].sourcePosition),r&2&&(s.targetPosition=e[21].targetPosition),r&2&&(s.dragging=e[21].dragging),r&2&&(s.zIndex=e[21].internals.z??0),r&2&&(s.dragHandle=e[21].dragHandle),r&2&&(s.initialized=Rn(e[21])),r&2&&(s.width=e[21].width),r&2&&(s.height=e[21].height),r&2&&(s.initialWidth=e[21].initialWidth),r&2&&(s.initialHeight=e[21].initialHeight),r&2&&(s.measuredWidth=e[21].measured.width),r&2&&(s.measuredHeight=e[21].measured.height),r&2&&(s.parentId=e[21].parentId),r&1&&(s.nodeClickDistance=e[0]),i.$set(s)},i(l){o||(A(i.$$.fragment,l),o=!0)},o(l){Y(i.$$.fragment,l),o=!1},d(l){l&&N(n),oe(i,l)}}}function bd(t){let e,n=[],i=new _d,o,l=Mt(t[1]);const r=s=>s[21].id;for(let s=0;s<l.length;s+=1){let a=Ao(t,l,s),u=r(a);i.set(u,n[s]=Io(u,a))}return{c(){e=Re("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=Be(s,"DIV",{class:!0});var a=ue(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(N),this.h()},h(){S(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(s,a){G(s,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(s,[a]){a&2111&&(l=Mt(s[1]),Ve(),n=Gn(n,a,r,1,s,l,i,e,qn,Io,null,Ao),Xe())},i(s){if(!o){for(let a=0;a<l.length;a+=1)A(n[a]);o=!0}},o(s){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(s){s&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function wd(t,e,n){let i,o,l,r,s,{nodeClickDistance:a=0}=e;const{visibleNodes:u,nodesDraggable:f,nodesConnectable:h,elementsSelectable:d,updateNodeInternals:c,parentLookup:m}=Ae();Z(t,u,D=>n(1,i=D)),Z(t,f,D=>n(2,o=D)),Z(t,h,D=>n(4,r=D)),Z(t,d,D=>n(3,l=D)),Z(t,m,D=>n(5,s=D));const y=typeof ResizeObserver>"u"?null:new ResizeObserver(D=>{const O=new Map;D.forEach(X=>{const q=X.target.getAttribute("data-id");O.set(q,{id:q,nodeElement:X.target,force:!0})}),c(O)});ar(()=>{y==null||y.disconnect()});function _(D){be.call(this,t,D)}function g(D){be.call(this,t,D)}function E(D){be.call(this,t,D)}function w(D){be.call(this,t,D)}function p(D){be.call(this,t,D)}function V(D){be.call(this,t,D)}function K(D){be.call(this,t,D)}function T(D){be.call(this,t,D)}return t.$$set=D=>{"nodeClickDistance"in D&&n(0,a=D.nodeClickDistance)},[a,i,o,l,r,s,u,f,h,d,m,y,_,g,E,w,p,V,K,T]}class kd extends de{constructor(e){super(),he(this,e,wd,bd,me,{nodeClickDistance:0})}}function Vo(t){let e,n,i,o,l,r,s,a;var u=t[27];function f(h,d){return{props:{id:h[0],source:h[1],target:h[2],sourceX:h[14],sourceY:h[15],targetX:h[16],targetY:h[17],sourcePosition:h[18],targetPosition:h[19],animated:h[6],selected:h[7],label:h[10],labelStyle:h[11],data:h[3],style:h[4],interactionWidth:h[21],selectable:h[24],deletable:h[8]??!0,type:h[23],sourceHandleId:h[12],targetHandleId:h[13],markerStart:h[26],markerEnd:h[25]}}}return u&&(i=Nn(u,f(t))),{c(){e=ve("svg"),n=ve("g"),i&&ne(i.$$.fragment),this.h()},l(h){e=Se(h,"svg",{});var d=ue(e);n=Se(d,"g",{class:!0,"data-id":!0,"aria-label":!0,role:!0});var c=ue(n);i&&re(i.$$.fragment,c),c.forEach(N),d.forEach(N),this.h()},h(){S(n,"class",o=pe(["svelte-flow__edge",t[22]])),S(n,"data-id",t[0]),S(n,"aria-label",l=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),S(n,"role","img"),se(n,"animated",t[6]),se(n,"selected",t[7]),se(n,"selectable",t[24]),ae(e,"z-index",t[5])},m(h,d){G(h,e,d),Ye(e,n),i&&ie(i,n,null),r=!0,s||(a=[Pe(n,"click",t[32]),Pe(n,"contextmenu",t[41]),Pe(n,"mouseenter",t[42]),Pe(n,"mouseleave",t[43])],s=!0)},p(h,d){if(d[0]&134217728&&u!==(u=h[27])){if(i){Ve();const c=i;Y(c.$$.fragment,1,0,()=>{oe(c,1)}),Xe()}u?(i=Nn(u,f(h)),ne(i.$$.fragment),A(i.$$.fragment,1),ie(i,n,null)):i=null}else if(u){const c={};d[0]&1&&(c.id=h[0]),d[0]&2&&(c.source=h[1]),d[0]&4&&(c.target=h[2]),d[0]&16384&&(c.sourceX=h[14]),d[0]&32768&&(c.sourceY=h[15]),d[0]&65536&&(c.targetX=h[16]),d[0]&131072&&(c.targetY=h[17]),d[0]&262144&&(c.sourcePosition=h[18]),d[0]&524288&&(c.targetPosition=h[19]),d[0]&64&&(c.animated=h[6]),d[0]&128&&(c.selected=h[7]),d[0]&1024&&(c.label=h[10]),d[0]&2048&&(c.labelStyle=h[11]),d[0]&8&&(c.data=h[3]),d[0]&16&&(c.style=h[4]),d[0]&2097152&&(c.interactionWidth=h[21]),d[0]&16777216&&(c.selectable=h[24]),d[0]&256&&(c.deletable=h[8]??!0),d[0]&8388608&&(c.type=h[23]),d[0]&4096&&(c.sourceHandleId=h[12]),d[0]&8192&&(c.targetHandleId=h[13]),d[0]&67108864&&(c.markerStart=h[26]),d[0]&33554432&&(c.markerEnd=h[25]),i.$set(c)}(!r||d[0]&4194304&&o!==(o=pe(["svelte-flow__edge",h[22]])))&&S(n,"class",o),(!r||d[0]&1)&&S(n,"data-id",h[0]),(!r||d[0]&1048582&&l!==(l=h[20]===null?void 0:h[20]?h[20]:`Edge from ${h[1]} to ${h[2]}`))&&S(n,"aria-label",l),(!r||d[0]&4194368)&&se(n,"animated",h[6]),(!r||d[0]&4194432)&&se(n,"selected",h[7]),(!r||d[0]&20971520)&&se(n,"selectable",h[24]),d[0]&32&&ae(e,"z-index",h[5])},i(h){r||(i&&A(i.$$.fragment,h),r=!0)},o(h){i&&Y(i.$$.fragment,h),r=!1},d(h){h&&N(e),i&&oe(i),s=!1,vt(a)}}}function vd(t){let e,n,i=!t[9]&&Vo(t);return{c(){i&&i.c(),e=Ce()},l(o){i&&i.l(o),e=Ce()},m(o,l){i&&i.m(o,l),G(o,e,l),n=!0},p(o,l){o[9]?i&&(Ve(),Y(i,1,1,()=>{i=null}),Xe()):i?(i.p(o,l),l[0]&512&&A(i,1)):(i=Vo(o),i.c(),A(i,1),i.m(e.parentNode,e))},i(o){n||(A(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function Sd(t,e,n){let i,o,l,r,s,a,u,f,h,{id:d}=e,{type:c="default"}=e,{source:m=""}=e,{target:y=""}=e,{data:_={}}=e,{style:g=void 0}=e,{zIndex:E=void 0}=e,{animated:w=!1}=e,{selected:p=!1}=e,{selectable:V=void 0}=e,{deletable:K=void 0}=e,{hidden:T=!1}=e,{label:D=void 0}=e,{labelStyle:O=void 0}=e,{markerStart:X=void 0}=e,{markerEnd:q=void 0}=e,{sourceHandle:$=void 0}=e,{targetHandle:R=void 0}=e,{sourceX:b}=e,{sourceY:v}=e,{targetX:k}=e,{targetY:M}=e,{sourcePosition:P}=e,{targetPosition:I}=e,{ariaLabel:B=void 0}=e,{interactionWidth:U=void 0}=e,{class:F=""}=e;zn("svelteflow__edge_id",d);const{edgeLookup:H,edgeTypes:x,flowId:te,elementsSelectable:_e}=Ae();Z(t,H,L=>n(44,a=L)),Z(t,x,L=>n(40,h=L)),Z(t,te,L=>n(39,f=L)),Z(t,_e,L=>n(38,u=L));const z=Zn(),le=al();function ge(L){const Te=a.get(d);Te&&(le(d),z("edgeclick",{event:L,edge:Te}))}function fe(L,Te){const ze=a.get(d);ze&&z(Te,{event:L,edge:ze})}const ye=L=>{fe(L,"edgecontextmenu")},ke=L=>{fe(L,"edgemouseenter")},Me=L=>{fe(L,"edgemouseleave")};return t.$$set=L=>{"id"in L&&n(0,d=L.id),"type"in L&&n(34,c=L.type),"source"in L&&n(1,m=L.source),"target"in L&&n(2,y=L.target),"data"in L&&n(3,_=L.data),"style"in L&&n(4,g=L.style),"zIndex"in L&&n(5,E=L.zIndex),"animated"in L&&n(6,w=L.animated),"selected"in L&&n(7,p=L.selected),"selectable"in L&&n(35,V=L.selectable),"deletable"in L&&n(8,K=L.deletable),"hidden"in L&&n(9,T=L.hidden),"label"in L&&n(10,D=L.label),"labelStyle"in L&&n(11,O=L.labelStyle),"markerStart"in L&&n(36,X=L.markerStart),"markerEnd"in L&&n(37,q=L.markerEnd),"sourceHandle"in L&&n(12,$=L.sourceHandle),"targetHandle"in L&&n(13,R=L.targetHandle),"sourceX"in L&&n(14,b=L.sourceX),"sourceY"in L&&n(15,v=L.sourceY),"targetX"in L&&n(16,k=L.targetX),"targetY"in L&&n(17,M=L.targetY),"sourcePosition"in L&&n(18,P=L.sourcePosition),"targetPosition"in L&&n(19,I=L.targetPosition),"ariaLabel"in L&&n(20,B=L.ariaLabel),"interactionWidth"in L&&n(21,U=L.interactionWidth),"class"in L&&n(22,F=L.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=c||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=h[i]||ul),t.$$.dirty[1]&288&&n(26,l=X?`url('#${Pi(X,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,r=q?`url('#${Pi(q,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,s=V??u)},[d,m,y,_,g,E,w,p,K,T,D,O,$,R,b,v,k,M,P,I,B,U,F,i,s,r,l,o,H,x,te,_e,ge,fe,c,V,X,q,u,f,h,ye,ke,Me]}class Ed extends de{constructor(e){super(),he(this,e,Sd,vd,sr,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Cd(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Fn(()=>(i==null||i(),o)),t.$$set=l=>{"onMount"in l&&n(0,i=l.onMount),"onDestroy"in l&&n(1,o=l.onDestroy)},[i,o]}class pd extends de{constructor(e){super(),he(this,e,Cd,null,me,{onMount:0,onDestroy:1})}}function Xo(t,e,n){const i=t.slice();return i[2]=e[n],i}function Yo(t,e){let n,i,o;const l=[e[2]];let r={};for(let s=0;s<l.length;s+=1)r=Ee(r,l[s]);return i=new Hd({props:r}),{key:t,first:null,c(){n=Ce(),ne(i.$$.fragment),this.h()},l(s){n=Ce(),re(i.$$.fragment,s),this.h()},h(){this.first=n},m(s,a){G(s,n,a),ie(i,s,a),o=!0},p(s,a){e=s;const u=a&1?wt(l,[Zt(e[2])]):{};i.$set(u)},i(s){o||(A(i.$$.fragment,s),o=!0)},o(s){Y(i.$$.fragment,s),o=!1},d(s){s&&N(n),oe(i,s)}}}function Md(t){let e,n=[],i=new Map,o,l=Mt(t[0]);const r=s=>s[2].id;for(let s=0;s<l.length;s+=1){let a=Xo(t,l,s),u=r(a);i.set(u,n[s]=Yo(u,a))}return{c(){e=ve("defs");for(let s=0;s<n.length;s+=1)n[s].c()},l(s){e=Se(s,"defs",{});var a=ue(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(N)},m(s,a){G(s,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o=!0},p(s,[a]){a&1&&(l=Mt(s[0]),Ve(),n=Gn(n,a,r,1,s,l,i,e,qn,Yo,null,Xo),Xe())},i(s){if(!o){for(let a=0;a<l.length;a+=1)A(n[a]);o=!0}},o(s){for(let a=0;a<n.length;a+=1)Y(n[a]);o=!1},d(s){s&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function zd(t,e,n){let i;const{markers:o}=Ae();return Z(t,o,l=>n(0,i=l)),[i,o]}class Pd extends de{constructor(e){super(),he(this,e,zd,Md,me,{})}}function Nd(t){let e;return{c(){e=ve("polyline"),this.h()},l(n){e=Se(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),ue(e).forEach(N),this.h()},h(){S(e,"stroke",t[6]),S(e,"stroke-linecap","round"),S(e,"stroke-linejoin","round"),S(e,"stroke-width",t[7]),S(e,"fill",t[6]),S(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){G(n,e,i)},p(n,i){i&64&&S(e,"stroke",n[6]),i&128&&S(e,"stroke-width",n[7]),i&64&&S(e,"fill",n[6])},d(n){n&&N(e)}}}function Od(t){let e;return{c(){e=ve("polyline"),this.h()},l(n){e=Se(n,"polyline",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,fill:!0,points:!0}),ue(e).forEach(N),this.h()},h(){S(e,"stroke",t[6]),S(e,"stroke-linecap","round"),S(e,"stroke-linejoin","round"),S(e,"stroke-width",t[7]),S(e,"fill","none"),S(e,"points","-5,-4 0,0 -5,4")},m(n,i){G(n,e,i)},p(n,i){i&64&&S(e,"stroke",n[6]),i&128&&S(e,"stroke-width",n[7])},d(n){n&&N(e)}}}function Dd(t){let e,n,i;function o(s,a){if(s[1]===Xn.Arrow)return Od;if(s[1]===Xn.ArrowClosed)return Nd}let l=o(t),r=l&&l(t);return{c(){e=ve("marker"),r&&r.c(),this.h()},l(s){e=Se(s,"marker",{class:!0,id:!0,markerWidth:!0,markerHeight:!0,viewBox:!0,markerUnits:!0,orient:!0,refX:!0,refY:!0});var a=ue(e);r&&r.l(a),a.forEach(N),this.h()},h(){S(e,"class","svelte-flow__arrowhead"),S(e,"id",t[0]),S(e,"markerWidth",n=`${t[2]}`),S(e,"markerHeight",i=`${t[3]}`),S(e,"viewBox","-10 -10 20 20"),S(e,"markerUnits",t[4]),S(e,"orient",t[5]),S(e,"refX","0"),S(e,"refY","0")},m(s,a){G(s,e,a),r&&r.m(e,null)},p(s,[a]){l===(l=o(s))&&r?r.p(s,a):(r&&r.d(1),r=l&&l(s),r&&(r.c(),r.m(e,null))),a&1&&S(e,"id",s[0]),a&4&&n!==(n=`${s[2]}`)&&S(e,"markerWidth",n),a&8&&i!==(i=`${s[3]}`)&&S(e,"markerHeight",i),a&16&&S(e,"markerUnits",s[4]),a&32&&S(e,"orient",s[5])},i:we,o:we,d(s){s&&N(e),r&&r.d()}}}function Td(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:r=12.5}=e,{markerUnits:s="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:u=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=h=>{"id"in h&&n(0,i=h.id),"type"in h&&n(1,o=h.type),"width"in h&&n(2,l=h.width),"height"in h&&n(3,r=h.height),"markerUnits"in h&&n(4,s=h.markerUnits),"orient"in h&&n(5,a=h.orient),"color"in h&&n(6,u=h.color),"strokeWidth"in h&&n(7,f=h.strokeWidth)},[i,o,l,r,s,a,u,f]}class Hd extends de{constructor(e){super(),he(this,e,Td,Dd,me,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Ro(t,e,n){const i=t.slice();return i[14]=e[n],i}function Bo(t,e){let n,i,o;return i=new Ed({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Ce(),ne(i.$$.fragment),this.h()},l(l){n=Ce(),re(i.$$.fragment,l),this.h()},h(){this.first=n},m(l,r){G(l,n,r),ie(i,l,r),o=!0},p(l,r){e=l;const s={};r&1&&(s.id=e[14].id),r&1&&(s.source=e[14].source),r&1&&(s.target=e[14].target),r&1&&(s.data=e[14].data),r&1&&(s.style=e[14].style),r&1&&(s.animated=e[14].animated),r&1&&(s.selected=e[14].selected),r&3&&(s.selectable=e[14].selectable??e[1]),r&1&&(s.deletable=e[14].deletable),r&1&&(s.hidden=e[14].hidden),r&1&&(s.label=e[14].label),r&1&&(s.labelStyle=e[14].labelStyle),r&1&&(s.markerStart=e[14].markerStart),r&1&&(s.markerEnd=e[14].markerEnd),r&1&&(s.sourceHandle=e[14].sourceHandle),r&1&&(s.targetHandle=e[14].targetHandle),r&1&&(s.sourceX=e[14].sourceX),r&1&&(s.sourceY=e[14].sourceY),r&1&&(s.targetX=e[14].targetX),r&1&&(s.targetY=e[14].targetY),r&1&&(s.sourcePosition=e[14].sourcePosition),r&1&&(s.targetPosition=e[14].targetPosition),r&1&&(s.ariaLabel=e[14].ariaLabel),r&1&&(s.interactionWidth=e[14].interactionWidth),r&1&&(s.class=e[14].class),r&1&&(s.type=e[14].type||"default"),r&1&&(s.zIndex=e[14].zIndex),i.$set(s)},i(l){o||(A(i.$$.fragment,l),o=!0)},o(l){Y(i.$$.fragment,l),o=!1},d(l){l&&N(n),oe(i,l)}}}function Lo(t){let e,n;return e=new pd({props:{onMount:t[11],onDestroy:t[12]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&4&&(l.onMount=i[11]),o&4&&(l.onDestroy=i[12]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ad(t){let e,n,i,o,l=[],r=new Map,s,a;i=new Pd({});let u=Mt(t[0]);const f=d=>d[14].id;for(let d=0;d<u.length;d+=1){let c=Ro(t,u,d),m=f(c);r.set(m,l[d]=Bo(m,c))}let h=t[0].length>0&&Lo(t);return{c(){e=Re("div"),n=ve("svg"),ne(i.$$.fragment),o=Ne();for(let d=0;d<l.length;d+=1)l[d].c();s=Ne(),h&&h.c(),this.h()},l(d){e=Be(d,"DIV",{class:!0});var c=ue(e);n=Se(c,"svg",{class:!0});var m=ue(n);re(i.$$.fragment,m),m.forEach(N),o=Oe(c);for(let y=0;y<l.length;y+=1)l[y].l(c);s=Oe(c),h&&h.l(c),c.forEach(N),this.h()},h(){S(n,"class","svelte-flow__marker"),S(e,"class","svelte-flow__edges")},m(d,c){G(d,e,c),Ye(e,n),ie(i,n,null),Ye(e,o);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);Ye(e,s),h&&h.m(e,null),a=!0},p(d,[c]){c&3&&(u=Mt(d[0]),Ve(),l=Gn(l,c,f,1,d,u,r,e,qn,Bo,s,Ro),Xe()),d[0].length>0?h?(h.p(d,c),c&1&&A(h,1)):(h=Lo(d),h.c(),A(h,1),h.m(e,null)):h&&(Ve(),Y(h,1,1,()=>{h=null}),Xe())},i(d){if(!a){A(i.$$.fragment,d);for(let c=0;c<u.length;c+=1)A(l[c]);A(h),a=!0}},o(d){Y(i.$$.fragment,d);for(let c=0;c<l.length;c+=1)Y(l[c]);Y(h),a=!1},d(d){d&&N(e),oe(i);for(let c=0;c<l.length;c+=1)l[c].d();h&&h.d()}}}function Id(t,e,n){let i,o,l,{defaultEdgeOptions:r}=e;const{visibleEdges:s,edgesInitialized:a,edges:{setDefaultOptions:u},elementsSelectable:f}=Ae();Z(t,s,g=>n(0,i=g)),Z(t,a,g=>n(2,l=g)),Z(t,f,g=>n(1,o=g)),Fn(()=>{r&&u(r)});function h(g){be.call(this,t,g)}function d(g){be.call(this,t,g)}function c(g){be.call(this,t,g)}function m(g){be.call(this,t,g)}const y=()=>{Pn(a,l=!0,l)},_=()=>{Pn(a,l=!1,l)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,r=g.defaultEdgeOptions)},[i,o,l,s,a,f,r,h,d,c,m,y,_]}class Vd extends de{constructor(e){super(),he(this,e,Id,Ad,me,{defaultEdgeOptions:6})}}function Wo(t){let e;return{c(){e=Re("div"),this.h()},l(n){e=Be(n,"DIV",{class:!0}),ue(e).forEach(N),this.h()},h(){S(e,"class","svelte-flow__selection svelte-1iugwpu"),ae(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),ae(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),ae(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){G(n,e,i)},p(n,i){i&4&&ae(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&ae(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&ae(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&N(e)}}}function Xd(t){let e,n=t[4]&&Wo(t);return{c(){n&&n.c(),e=Ce()},l(i){n&&n.l(i),e=Ce()},m(i,o){n&&n.m(i,o),G(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Wo(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:we,o:we,d(i){i&&N(e),n&&n.d(i)}}}function Yd(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:l=0}=e,{height:r=0}=e,{isVisible:s=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,o=a.y),"width"in a&&n(2,l=a.width),"height"in a&&n(3,r=a.height),"isVisible"in a&&n(4,s=a.isVisible)},[i,o,l,r,s]}class hl extends de{constructor(e){super(),he(this,e,Yd,Xd,me,{x:0,y:1,width:2,height:3,isVisible:4})}}function Rd(t){var i,o,l,r;let e,n;return e=new hl({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(l=t[0])==null?void 0:l.x,y:(r=t[0])==null?void 0:r.y}}),{c(){ne(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,a){ie(e,s,a),n=!0},p(s,[a]){var f,h,d,c;const u={};a&3&&(u.isVisible=!!(s[0]&&s[1]==="user")),a&1&&(u.width=(f=s[0])==null?void 0:f.width),a&1&&(u.height=(h=s[0])==null?void 0:h.height),a&1&&(u.x=(d=s[0])==null?void 0:d.x),a&1&&(u.y=(c=s[0])==null?void 0:c.y),e.$set(u)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){Y(e.$$.fragment,s),n=!1},d(s){oe(e,s)}}}function Bd(t,e,n){let i,o;const{selectionRect:l,selectionRectMode:r}=Ae();return Z(t,l,s=>n(0,i=s)),Z(t,r,s=>n(1,o=s)),[i,o,l,r]}class Ld extends de{constructor(e){super(),he(this,e,Bd,Rd,me,{})}}function Ko(t){let e,n,i,o,l;return n=new hl({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Re("div"),ne(n.$$.fragment),this.h()},l(r){e=Be(r,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var s=ue(e);re(n.$$.fragment,s),s.forEach(N),this.h()},h(){S(e,"class","selection-wrapper nopan svelte-5pxri"),ae(e,"width",t[1].width+"px"),ae(e,"height",t[1].height+"px"),ae(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),S(e,"role","button"),S(e,"tabindex","-1")},m(r,s){G(r,e,s),ie(n,e,null),i=!0,o||(l=[Ke(dl.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),Pe(e,"contextmenu",t[7]),Pe(e,"click",t[8]),Pe(e,"keyup",Kd)],o=!0)},p(r,s){(!i||s&2)&&ae(e,"width",r[1].width+"px"),(!i||s&2)&&ae(e,"height",r[1].height+"px"),(!i||s&2)&&ae(e,"transform","translate("+r[1].x+"px, "+r[1].y+"px)")},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){Y(n.$$.fragment,r),i=!1},d(r){r&&N(e),oe(n),o=!1,vt(l)}}}function Wd(t){let e=t[0]==="nodes"&&t[1]&&Nt(t[1].x)&&Nt(t[1].y),n,i,o=e&&Ko(t);return{c(){o&&o.c(),n=Ce()},l(l){o&&o.l(l),n=Ce()},m(l,r){o&&o.m(l,r),G(l,n,r),i=!0},p(l,[r]){r&3&&(e=l[0]==="nodes"&&l[1]&&Nt(l[1].x)&&Nt(l[1].y)),e?o?(o.p(l,r),r&3&&A(o,1)):(o=Ko(l),o.c(),A(o,1),o.m(n.parentNode,n)):o&&(Ve(),Y(o,1,1,()=>{o=null}),Xe())},i(l){i||(A(o),i=!0)},o(l){Y(o),i=!1},d(l){l&&N(n),o&&o.d(l)}}}const Kd=()=>{};function Fd(t,e,n){let i,o,l;const r=Ae(),{selectionRectMode:s,nodes:a,nodeLookup:u}=r;Z(t,s,g=>n(0,l=g)),Z(t,a,g=>n(9,i=g)),Z(t,u,g=>n(10,o=g));const f=Zn();let h=null;function d(g){const E=i.filter(w=>w.selected);f("selectioncontextmenu",{nodes:E,event:g})}function c(g){const E=i.filter(w=>w.selected);f("selectionclick",{nodes:E,event:g})}const m=(g,E,w,p)=>{f("nodedrag",{event:g,targetNode:null,nodes:p})},y=(g,E,w,p)=>{f("nodedragstart",{event:g,targetNode:null,nodes:p})},_=(g,E,w,p)=>{f("nodedragstop",{event:g,targetNode:null,nodes:p})};return t.$$.update=()=>{t.$$.dirty&1537&&l==="nodes"&&n(1,h=dn(o,{filter:g=>!!g.selected}))},[l,h,r,s,a,u,f,d,c,i,o,m,y,_]}class Zd extends de{constructor(e){super(),he(this,e,Fd,Wd,me,{})}}function st(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function l(r){const s=Array.isArray(i)?i:[i],a={alt:r.altKey,ctrl:r.ctrlKey,shift:r.shiftKey,meta:r.metaKey};for(const u of s){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:h,key:d,callback:c,preventDefault:m,enabled:y}=f;if(y){if(h.length&&!(Array.isArray(h)?h:[h]).map(E=>typeof E=="string"?[E]:E).some(E=>E.every(w=>a[w])))continue;if(r.key===d){m&&r.preventDefault();const _={node:t,trigger:f,originalEvent:r};t.dispatchEvent(new CustomEvent("shortcut",{detail:_})),c==null||c(_)}}}}return n&&t.addEventListener(o,l),{update:r=>{const{enabled:s=!0,type:a="keydown"}=r;n&&(!s||o!==a)?t.removeEventListener(o,l):!n&&s&&t.addEventListener(a,l),n=s,o=a,i=r.trigger},destroy:()=>{t.removeEventListener(o,l)}}}function qd(t){let e,n,i,o,l,r,s,a,u,f,h,d;return{c:we,l:we,m(c,m){h||(d=[Ke(e=st.call(null,window,{trigger:He(t[0],t[11]),type:"keydown"})),Ke(n=st.call(null,window,{trigger:He(t[0],t[12]),type:"keyup"})),Ke(i=st.call(null,window,{trigger:He(t[1],t[13]),type:"keydown"})),Ke(o=st.call(null,window,{trigger:He(t[1],t[14]),type:"keyup"})),Ke(l=st.call(null,window,{trigger:He(t[2],t[15]),type:"keydown"})),Ke(r=st.call(null,window,{trigger:He(t[2],t[16]),type:"keyup"})),Ke(s=st.call(null,window,{trigger:He(t[3],t[17]),type:"keydown"})),Ke(a=st.call(null,window,{trigger:He(t[3],t[18]),type:"keyup"})),Ke(u=st.call(null,window,{trigger:He(t[4],t[19]),type:"keydown"})),Ke(f=st.call(null,window,{trigger:He(t[4],t[20]),type:"keyup"})),Pe(window,"blur",t[10]),Pe(window,"contextmenu",t[10])],h=!0)},p(c,[m]){e&&Ie(e.update)&&m&1&&e.update.call(null,{trigger:He(c[0],c[11]),type:"keydown"}),n&&Ie(n.update)&&m&1&&n.update.call(null,{trigger:He(c[0],c[12]),type:"keyup"}),i&&Ie(i.update)&&m&2&&i.update.call(null,{trigger:He(c[1],c[13]),type:"keydown"}),o&&Ie(o.update)&&m&2&&o.update.call(null,{trigger:He(c[1],c[14]),type:"keyup"}),l&&Ie(l.update)&&m&4&&l.update.call(null,{trigger:He(c[2],c[15]),type:"keydown"}),r&&Ie(r.update)&&m&4&&r.update.call(null,{trigger:He(c[2],c[16]),type:"keyup"}),s&&Ie(s.update)&&m&8&&s.update.call(null,{trigger:He(c[3],c[17]),type:"keydown"}),a&&Ie(a.update)&&m&8&&a.update.call(null,{trigger:He(c[3],c[18]),type:"keyup"}),u&&Ie(u.update)&&m&16&&u.update.call(null,{trigger:He(c[4],c[19]),type:"keydown"}),f&&Ie(f.update)&&m&16&&f.update.call(null,{trigger:He(c[4],c[20]),type:"keyup"})},i:we,o:we,d(c){h=!1,vt(d)}}}function gl(t){return t!==null&&typeof t=="object"}function Gd(t){return gl(t)?t.modifier||[]:[]}function Ud(t){return t==null?"":gl(t)?t.key:t}function He(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Ud(i);return{key:o,modifier:Gd(i),enabled:o!==null,callback:e}})}function Jd(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Yn()?"Meta":"Control"}=e,{deleteKey:l="Backspace"}=e,{panActivationKey:r=" "}=e,{zoomActivationKey:s=Yn()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:u,deleteKeyPressed:f,panActivationKeyPressed:h,zoomActivationKeyPressed:d,selectionRect:c}=Ae();function m(){c.set(null),a.set(!1),u.set(!1),f.set(!1),h.set(!1),d.set(!1)}const y=()=>a.set(!0),_=()=>a.set(!1),g=()=>u.set(!0),E=()=>u.set(!1),w=O=>{!(O.originalEvent.ctrlKey||O.originalEvent.metaKey||O.originalEvent.shiftKey)&&!Tf(O.originalEvent)&&f.set(!0)},p=()=>f.set(!1),V=()=>h.set(!0),K=()=>h.set(!1),T=()=>d.set(!0),D=()=>d.set(!1);return t.$$set=O=>{"selectionKey"in O&&n(0,i=O.selectionKey),"multiSelectionKey"in O&&n(1,o=O.multiSelectionKey),"deleteKey"in O&&n(2,l=O.deleteKey),"panActivationKey"in O&&n(3,r=O.panActivationKey),"zoomActivationKey"in O&&n(4,s=O.zoomActivationKey)},[i,o,l,r,s,a,u,f,h,d,m,y,_,g,E,w,p,V,K,T,D]}class Qd extends de{constructor(e){super(),he(this,e,Jd,qd,me,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const jd=t=>({}),Fo=t=>({});function Zo(t){let e,n,i,o;const l=t[13].connectionLine,r=Ge(l,t,t[12],Fo);let s=!t[2]&&qo(t);return{c(){e=ve("svg"),n=ve("g"),r&&r.c(),s&&s.c(),this.h()},l(a){e=Se(a,"svg",{width:!0,height:!0,class:!0,style:!0});var u=ue(e);n=Se(u,"g",{class:!0});var f=ue(n);r&&r.l(f),s&&s.l(f),f.forEach(N),u.forEach(N),this.h()},h(){S(n,"class",i=pe(["svelte-flow__connection",yo(t[3].isValid)])),S(e,"width",t[5]),S(e,"height",t[6]),S(e,"class","svelte-flow__connectionline"),S(e,"style",t[0])},m(a,u){G(a,e,u),Ye(e,n),r&&r.m(n,null),s&&s.m(n,null),o=!0},p(a,u){r&&r.p&&(!o||u&4096)&&Ue(r,l,a,a[12],o?Qe(l,a[12],u,jd):Je(a[12]),Fo),a[2]?s&&(s.d(1),s=null):s?s.p(a,u):(s=qo(a),s.c(),s.m(n,null)),(!o||u&8&&i!==(i=pe(["svelte-flow__connection",yo(a[3].isValid)])))&&S(n,"class",i),(!o||u&32)&&S(e,"width",a[5]),(!o||u&64)&&S(e,"height",a[6]),(!o||u&1)&&S(e,"style",a[0])},i(a){o||(A(r,a),o=!0)},o(a){Y(r,a),o=!1},d(a){a&&N(e),r&&r.d(a),s&&s.d()}}}function qo(t){let e;return{c(){e=ve("path"),this.h()},l(n){e=Se(n,"path",{d:!0,style:!0,fill:!0,class:!0}),ue(e).forEach(N),this.h()},h(){S(e,"d",t[4]),S(e,"style",t[1]),S(e,"fill","none"),S(e,"class","svelte-flow__connection-path")},m(n,i){G(n,e,i)},p(n,i){i&16&&S(e,"d",n[4]),i&2&&S(e,"style",n[1])},d(n){n&&N(e)}}}function xd(t){let e,n,i=t[3].inProgress&&Zo(t);return{c(){i&&i.c(),e=Ce()},l(o){i&&i.l(o),e=Ce()},m(o,l){i&&i.m(o,l),G(o,e,l),n=!0},p(o,[l]){o[3].inProgress?i?(i.p(o,l),l&8&&A(i,1)):(i=Zo(o),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Ve(),Y(i,1,1,()=>{i=null}),Xe())},i(o){n||(A(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function $d(t,e,n){let i,o,l,r,{$$slots:s={},$$scope:a}=e,{containerStyle:u=""}=e,{style:f=""}=e,{isCustomComponent:h=!1}=e;const{width:d,height:c,connection:m,connectionLineType:y}=Ae();Z(t,d,g=>n(5,l=g)),Z(t,c,g=>n(6,r=g)),Z(t,m,g=>n(3,o=g)),Z(t,y,g=>n(11,i=g));let _=null;return t.$$set=g=>{"containerStyle"in g&&n(0,u=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,h=g.isCustomComponent),"$$scope"in g&&n(12,a=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!h){const{from:g,to:E,fromPosition:w,toPosition:p}=o,V={sourceX:g.x,sourceY:g.y,sourcePosition:w,targetX:E.x,targetY:E.y,targetPosition:p};switch(i){case Kt.Bezier:n(4,[_]=Gr(V),_);break;case Kt.Step:n(4,[_]=Bn({...V,borderRadius:0}),_);break;case Kt.SmoothStep:n(4,[_]=Bn(V),_);break;default:n(4,[_]=Jr(V),_)}}},[u,f,h,o,_,l,r,d,c,m,y,i,a,s]}class eh extends de{constructor(e){super(),he(this,e,$d,xd,me,{containerStyle:0,style:1,isCustomComponent:2})}}function th(t){let e,n,i;const o=t[8].default,l=Ge(o,t,t[7],null);let r=[{class:n=pe(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],s={};for(let a=0;a<r.length;a+=1)s=Ee(s,r[a]);return{c(){e=Re("div"),l&&l.c(),this.h()},l(a){e=Be(a,"DIV",{class:!0,style:!0});var u=ue(e);l&&l.l(u),u.forEach(N),this.h()},h(){Ft(e,s),ae(e,"pointer-events",t[3]?"none":"")},m(a,u){G(a,e,u),l&&l.m(e,null),i=!0},p(a,[u]){l&&l.p&&(!i||u&128)&&Ue(l,o,a,a[7],i?Qe(o,a[7],u,null):Je(a[7]),null),Ft(e,s=wt(r,[(!i||u&6&&n!==(n=pe(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||u&1)&&{style:a[0]},u&32&&a[5]])),ae(e,"pointer-events",a[3]?"none":"")},i(a){i||(A(l,a),i=!0)},o(a){Y(l,a),i=!1},d(a){a&&N(e),l&&l.d(a)}}}function nh(t,e,n){let i;const o=["position","style","class"];let l=De(e,o),r,{$$slots:s={},$$scope:a}=e,{position:u="top-right"}=e,{style:f=void 0}=e,{class:h=void 0}=e;const{selectionRectMode:d}=Ae();return Z(t,d,c=>n(3,r=c)),t.$$set=c=>{e=Ee(Ee({},e),ot(c)),n(5,l=De(e,o)),"position"in c&&n(6,u=c.position),"style"in c&&n(0,f=c.style),"class"in c&&n(1,h=c.class),"$$scope"in c&&n(7,a=c.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${u}`.split("-"))},[f,h,i,r,d,l,u,a,s]}class Li extends de{constructor(e){super(),he(this,e,nh,th,me,{position:6,style:0,class:1})}}function Go(t){let e,n;return e=new Li({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[ih]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.position=i[1]),o&4&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function ih(t){let e,n="Svelte Flow";return{c(){e=Re("a"),e.textContent=n,this.h()},l(i){e=Be(i,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,"data-svelte-h":!0}),Rl(e)!=="svelte-2vm8e4"&&(e.textContent=n),this.h()},h(){S(e,"href","https://svelteflow.dev"),S(e,"target","_blank"),S(e,"rel","noopener noreferrer"),S(e,"aria-label","Svelte Flow attribution")},m(i,o){G(i,e,o)},p:we,d(i){i&&N(e)}}}function oh(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Go(t);return{c(){i&&i.c(),e=Ce()},l(l){i&&i.l(l),e=Ce()},m(l,r){i&&i.m(l,r),G(l,e,r),n=!0},p(l,[r]){var s;(s=l[0])!=null&&s.hideAttribution?i&&(Ve(),Y(i,1,1,()=>{i=null}),Xe()):i?(i.p(l,r),r&1&&A(i,1)):(i=Go(l),i.c(),A(i,1),i.m(e.parentNode,e))},i(l){n||(A(i),n=!0)},o(l){Y(i),n=!1},d(l){l&&N(e),i&&i.d(l)}}}function rh(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=l=>{"proOptions"in l&&n(0,i=l.proOptions),"position"in l&&n(1,o=l.position)},[i,o]}class lh extends de{constructor(e){super(),he(this,e,rh,oh,me,{proOptions:0,position:1})}}function Uo(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:l,paneClickDistance:r}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),l!==void 0&&t.setTranslateExtent(l),r!==void 0&&t.setPaneClickDistance(r)}const sh=t=>Object.keys(t);function ah(t,e){sh(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function uh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function fh(t="light"){return tt("light",n=>{if(t!=="system"){n(t);return}const i=uh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const ch=t=>({}),Jo=t=>({slot:"connectionLine"});function dh(t){let e;const n=t[74].connectionLine,i=Ge(n,t,t[98],Jo);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l[3]&32)&&Ue(i,n,o,o[98],e?Qe(n,o[98],l,ch):Je(o[98]),Jo)},i(o){e||(A(i,o),e=!0)},o(o){Y(i,o),e=!1},d(o){i&&i.d(o)}}}function hh(t){let e,n,i,o,l,r,s,a,u,f,h,d;return e=new Vd({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[77]),e.$on("edgecontextmenu",t[78]),e.$on("edgemouseenter",t[79]),e.$on("edgemouseleave",t[80]),i=new eh({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[dh]},$$scope:{ctx:t}}}),u=new kd({props:{nodeClickDistance:t[23]}}),u.$on("nodeclick",t[81]),u.$on("nodemouseenter",t[82]),u.$on("nodemousemove",t[83]),u.$on("nodemouseleave",t[84]),u.$on("nodedragstart",t[85]),u.$on("nodedrag",t[86]),u.$on("nodedragstop",t[87]),u.$on("nodecontextmenu",t[88]),h=new Zd({}),h.$on("selectionclick",t[89]),h.$on("selectioncontextmenu",t[90]),h.$on("nodedragstart",t[91]),h.$on("nodedrag",t[92]),h.$on("nodedragstop",t[93]),{c(){ne(e.$$.fragment),n=Ne(),ne(i.$$.fragment),o=Ne(),l=Re("div"),r=Ne(),s=Re("div"),a=Ne(),ne(u.$$.fragment),f=Ne(),ne(h.$$.fragment),this.h()},l(c){re(e.$$.fragment,c),n=Oe(c),re(i.$$.fragment,c),o=Oe(c),l=Be(c,"DIV",{class:!0}),ue(l).forEach(N),r=Oe(c),s=Be(c,"DIV",{class:!0}),ue(s).forEach(N),a=Oe(c),re(u.$$.fragment,c),f=Oe(c),re(h.$$.fragment,c),this.h()},h(){S(l,"class","svelte-flow__edgelabel-renderer"),S(s,"class","svelte-flow__viewport-portal")},m(c,m){ie(e,c,m),G(c,n,m),ie(i,c,m),G(c,o,m),G(c,l,m),G(c,r,m),G(c,s,m),G(c,a,m),ie(u,c,m),G(c,f,m),ie(h,c,m),d=!0},p(c,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=c[21]),e.$set(y);const _={};m[0]&128&&(_.containerStyle=c[7]),m[0]&64&&(_.style=c[6]),m[1]&8&&(_.isCustomComponent=c[34].connectionLine),m[3]&32&&(_.$$scope={dirty:m,ctx:c}),i.$set(_);const g={};m[0]&8388608&&(g.nodeClickDistance=c[23]),u.$set(g)},i(c){d||(A(e.$$.fragment,c),A(i.$$.fragment,c),A(u.$$.fragment,c),A(h.$$.fragment,c),d=!0)},o(c){Y(e.$$.fragment,c),Y(i.$$.fragment,c),Y(u.$$.fragment,c),Y(h.$$.fragment,c),d=!1},d(c){c&&(N(n),N(o),N(l),N(r),N(s),N(a),N(f)),oe(e,c),oe(i,c),oe(u,c),oe(h,c)}}}function gh(t){let e,n,i,o;return e=new dd({props:{$$slots:{default:[hh]},$$scope:{ctx:t}}}),i=new Ld({}),{c(){ne(e.$$.fragment),n=Ne(),ne(i.$$.fragment)},l(l){re(e.$$.fragment,l),n=Oe(l),re(i.$$.fragment,l)},m(l,r){ie(e,l,r),G(l,n,r),ie(i,l,r),o=!0},p(l,r){const s={};r[0]&10485952|r[1]&8|r[3]&32&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){o||(A(e.$$.fragment,l),A(i.$$.fragment,l),o=!0)},o(l){Y(e.$$.fragment,l),Y(i.$$.fragment,l),o=!1},d(l){l&&N(n),oe(e,l),oe(i,l)}}}function mh(t){let e,n;return e=new ud({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[gh]},$$scope:{ctx:t}}}),e.$on("paneclick",t[94]),e.$on("panecontextmenu",t[95]),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o[0]&131072&&(l.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(l.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&32&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function yh(t){let e,n,i,o,l,r,s,a,u,f,h,d;n=new Qd({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new ld({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?ut.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[mh]},$$scope:{ctx:t}}}),r=new lh({props:{proOptions:t[20],position:t[19]}});const c=t[74].default,m=Ge(c,t,t[98],null);let y=[{style:t[24]},{class:a=pe(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],_={};for(let g=0;g<y.length;g+=1)_=Ee(_,y[g]);return{c(){e=Re("div"),ne(n.$$.fragment),i=Ne(),ne(o.$$.fragment),l=Ne(),ne(r.$$.fragment),s=Ne(),m&&m.c(),this.h()},l(g){e=Be(g,"DIV",{style:!0,class:!0,"data-testid":!0,role:!0});var E=ue(e);re(n.$$.fragment,E),i=Oe(E),re(o.$$.fragment,E),l=Oe(E),re(r.$$.fragment,E),s=Oe(E),m&&m.l(E),E.forEach(N),this.h()},h(){Ft(e,_),ur(()=>t[97].call(e)),se(e,"svelte-12wlba6",!0)},m(g,E){G(g,e,E),ie(n,e,null),Ye(e,i),ie(o,e,null),Ye(e,l),ie(r,e,null),Ye(e,s),m&&m.m(e,null),t[96](e),u=Bl(e,t[97].bind(e)),f=!0,h||(d=[Pe(e,"dragover",t[75]),Pe(e,"drop",t[76])],h=!0)},p(g,E){const w={};E[0]&2&&(w.selectionKey=g[1]),E[0]&32&&(w.deleteKey=g[5]),E[0]&4&&(w.panActivationKey=g[2]),E[0]&8&&(w.multiSelectionKey=g[3]),E[0]&16&&(w.zoomActivationKey=g[4]),n.$set(w);const p={};E[0]&256&&(p.onMoveStart=g[8]),E[0]&512&&(p.onMove=g[9]),E[0]&1024&&(p.onMoveEnd=g[10]),E[0]&2048&&(p.panOnScrollMode=g[11]===void 0?ut.Free:g[11]),E[0]&4096&&(p.preventScrolling=g[12]===void 0?!0:g[12]),E[0]&8192&&(p.zoomOnScroll=g[13]===void 0?!0:g[13]),E[0]&16384&&(p.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),E[0]&32768&&(p.zoomOnPinch=g[15]===void 0?!0:g[15]),E[0]&65536&&(p.panOnScroll=g[16]===void 0?!1:g[16]),E[0]&131072&&(p.panOnDrag=g[17]===void 0?!0:g[17]),E[0]&4194304&&(p.paneClickDistance=g[22]===void 0?0:g[22]),E[0]&10879168|E[1]&8|E[3]&32&&(p.$$scope={dirty:E,ctx:g}),o.$set(p);const V={};E[0]&1048576&&(V.proOptions=g[20]),E[0]&524288&&(V.position=g[19]),r.$set(V),m&&m.p&&(!f||E[3]&32)&&Ue(m,c,g,g[98],f?Qe(c,g[98],E,null):Je(g[98]),null),Ft(e,_=wt(y,[(!f||E[0]&16777216)&&{style:g[24]},(!f||E[0]&1107296256&&a!==(a=pe(["svelte-flow",g[25],g[30]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},E[1]&4&&g[33],{role:"application"}])),se(e,"svelte-12wlba6",!0)},i(g){f||(A(n.$$.fragment,g),A(o.$$.fragment,g),A(r.$$.fragment,g),A(m,g),f=!0)},o(g){Y(n.$$.fragment,g),Y(o.$$.fragment,g),Y(r.$$.fragment,g),Y(m,g),f=!1},d(g){g&&N(e),oe(n),oe(o),oe(r),m&&m.d(g),t[96](null),u(),h=!1,vt(d)}}}function _h(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let l=De(e,o),r,s,a=we,u=()=>(a(),a=qi(D,C=>n(99,s=C)),D),f,h=we,d=()=>(h(),h=qi(i,C=>n(30,f=C)),i);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>h());let{$$slots:c={},$$scope:m}=e;const y=Ll(c);let{id:_="1"}=e,{nodes:g}=e,{edges:E}=e,{fitView:w=void 0}=e,{fitViewOptions:p=void 0}=e,{minZoom:V=void 0}=e,{maxZoom:K=void 0}=e,{initialViewport:T=void 0}=e,{viewport:D=void 0}=e;u();let{nodeTypes:O=void 0}=e,{edgeTypes:X=void 0}=e,{selectionKey:q=void 0}=e,{selectionMode:$=void 0}=e,{panActivationKey:R=void 0}=e,{multiSelectionKey:b=void 0}=e,{zoomActivationKey:v=void 0}=e,{nodesDraggable:k=void 0}=e,{nodesConnectable:M=void 0}=e,{nodeDragThreshold:P=void 0}=e,{elementsSelectable:I=void 0}=e,{snapGrid:B=void 0}=e,{deleteKey:U=void 0}=e,{connectionRadius:F=void 0}=e,{connectionLineType:H=void 0}=e,{connectionMode:x=Tt.Strict}=e,{connectionLineStyle:te=""}=e,{connectionLineContainerStyle:_e=""}=e,{onMoveStart:z=void 0}=e,{onMove:le=void 0}=e,{onMoveEnd:ge=void 0}=e,{isValidConnection:fe=void 0}=e,{translateExtent:ye=void 0}=e,{onlyRenderVisibleElements:ke=void 0}=e,{panOnScrollMode:Me=ut.Free}=e,{preventScrolling:L=!0}=e,{zoomOnScroll:Te=!0}=e,{zoomOnDoubleClick:ze=!0}=e,{zoomOnPinch:ct=!0}=e,{panOnScroll:dt=!1}=e,{panOnDrag:ht=!0}=e,{selectionOnDrag:Le=void 0}=e,{autoPanOnConnect:lt=!0}=e,{autoPanOnNodeDrag:j=!0}=e,{onerror:St=void 0}=e,{ondelete:Et=void 0}=e,{onedgecreate:W=void 0}=e,{attributionPosition:$e=void 0}=e,{proOptions:Fe=void 0}=e,{defaultEdgeOptions:Q=void 0}=e,{width:gt=void 0}=e,{height:Ze=void 0}=e,{colorMode:je="light"}=e,{onconnect:Ht=void 0}=e,{onconnectstart:At=void 0}=e,{onconnectend:It=void 0}=e,{onbeforedelete:Vt=void 0}=e,{oninit:Ct=void 0}=e,{nodeOrigin:zt=void 0}=e,{paneClickDistance:hn=0}=e,{nodeClickDistance:Wi=0}=e,{defaultMarkerColor:ii="#b1b1b7"}=e,{style:Ki=void 0}=e,{class:Fi=void 0}=e,gn,Xt,Yt;const ml=s||T,We=Wl(Bi)?Ae():nd({nodes:J(g),edges:J(E),width:gt,height:Ze,fitView:w,nodeOrigin:zt});Fn(()=>(We.width.set(Xt),We.height.set(Yt),We.domNode.set(gn),We.syncNodeStores(g),We.syncEdgeStores(E),We.syncViewport(D),w!==void 0&&We.fitViewOnInit.set(w),p&&We.fitViewOptions.set(p),Uo(We,{nodeTypes:O,edgeTypes:X,minZoom:V,maxZoom:K,translateExtent:ye,paneClickDistance:hn}),()=>{We.reset()}));const{initialized:Zi}=We;Z(t,Zi,C=>n(73,r=C));let oi=!1;function yl(C){be.call(this,t,C)}function _l(C){be.call(this,t,C)}function bl(C){be.call(this,t,C)}function wl(C){be.call(this,t,C)}function kl(C){be.call(this,t,C)}function vl(C){be.call(this,t,C)}function Sl(C){be.call(this,t,C)}function El(C){be.call(this,t,C)}function Cl(C){be.call(this,t,C)}function pl(C){be.call(this,t,C)}function Ml(C){be.call(this,t,C)}function zl(C){be.call(this,t,C)}function Pl(C){be.call(this,t,C)}function Nl(C){be.call(this,t,C)}function Ol(C){be.call(this,t,C)}function Dl(C){be.call(this,t,C)}function Tl(C){be.call(this,t,C)}function Hl(C){be.call(this,t,C)}function Al(C){be.call(this,t,C)}function Il(C){be.call(this,t,C)}function Vl(C){be.call(this,t,C)}function Xl(C){Ni[C?"unshift":"push"](()=>{gn=C,n(28,gn)})}function Yl(){Xt=this.clientWidth,Yt=this.clientHeight,n(26,Xt),n(27,Yt)}return t.$$set=C=>{e=Ee(Ee({},e),ot(C)),n(33,l=De(e,o)),"id"in C&&n(35,_=C.id),"nodes"in C&&n(36,g=C.nodes),"edges"in C&&n(37,E=C.edges),"fitView"in C&&n(38,w=C.fitView),"fitViewOptions"in C&&n(39,p=C.fitViewOptions),"minZoom"in C&&n(40,V=C.minZoom),"maxZoom"in C&&n(41,K=C.maxZoom),"initialViewport"in C&&n(42,T=C.initialViewport),"viewport"in C&&u(n(0,D=C.viewport)),"nodeTypes"in C&&n(43,O=C.nodeTypes),"edgeTypes"in C&&n(44,X=C.edgeTypes),"selectionKey"in C&&n(1,q=C.selectionKey),"selectionMode"in C&&n(45,$=C.selectionMode),"panActivationKey"in C&&n(2,R=C.panActivationKey),"multiSelectionKey"in C&&n(3,b=C.multiSelectionKey),"zoomActivationKey"in C&&n(4,v=C.zoomActivationKey),"nodesDraggable"in C&&n(46,k=C.nodesDraggable),"nodesConnectable"in C&&n(47,M=C.nodesConnectable),"nodeDragThreshold"in C&&n(48,P=C.nodeDragThreshold),"elementsSelectable"in C&&n(49,I=C.elementsSelectable),"snapGrid"in C&&n(50,B=C.snapGrid),"deleteKey"in C&&n(5,U=C.deleteKey),"connectionRadius"in C&&n(51,F=C.connectionRadius),"connectionLineType"in C&&n(52,H=C.connectionLineType),"connectionMode"in C&&n(53,x=C.connectionMode),"connectionLineStyle"in C&&n(6,te=C.connectionLineStyle),"connectionLineContainerStyle"in C&&n(7,_e=C.connectionLineContainerStyle),"onMoveStart"in C&&n(8,z=C.onMoveStart),"onMove"in C&&n(9,le=C.onMove),"onMoveEnd"in C&&n(10,ge=C.onMoveEnd),"isValidConnection"in C&&n(54,fe=C.isValidConnection),"translateExtent"in C&&n(55,ye=C.translateExtent),"onlyRenderVisibleElements"in C&&n(56,ke=C.onlyRenderVisibleElements),"panOnScrollMode"in C&&n(11,Me=C.panOnScrollMode),"preventScrolling"in C&&n(12,L=C.preventScrolling),"zoomOnScroll"in C&&n(13,Te=C.zoomOnScroll),"zoomOnDoubleClick"in C&&n(14,ze=C.zoomOnDoubleClick),"zoomOnPinch"in C&&n(15,ct=C.zoomOnPinch),"panOnScroll"in C&&n(16,dt=C.panOnScroll),"panOnDrag"in C&&n(17,ht=C.panOnDrag),"selectionOnDrag"in C&&n(18,Le=C.selectionOnDrag),"autoPanOnConnect"in C&&n(57,lt=C.autoPanOnConnect),"autoPanOnNodeDrag"in C&&n(58,j=C.autoPanOnNodeDrag),"onerror"in C&&n(59,St=C.onerror),"ondelete"in C&&n(60,Et=C.ondelete),"onedgecreate"in C&&n(61,W=C.onedgecreate),"attributionPosition"in C&&n(19,$e=C.attributionPosition),"proOptions"in C&&n(20,Fe=C.proOptions),"defaultEdgeOptions"in C&&n(21,Q=C.defaultEdgeOptions),"width"in C&&n(62,gt=C.width),"height"in C&&n(63,Ze=C.height),"colorMode"in C&&n(64,je=C.colorMode),"onconnect"in C&&n(65,Ht=C.onconnect),"onconnectstart"in C&&n(66,At=C.onconnectstart),"onconnectend"in C&&n(67,It=C.onconnectend),"onbeforedelete"in C&&n(68,Vt=C.onbeforedelete),"oninit"in C&&n(69,Ct=C.oninit),"nodeOrigin"in C&&n(70,zt=C.nodeOrigin),"paneClickDistance"in C&&n(22,hn=C.paneClickDistance),"nodeClickDistance"in C&&n(23,Wi=C.nodeClickDistance),"defaultMarkerColor"in C&&n(71,ii=C.defaultMarkerColor),"style"in C&&n(24,Ki=C.style),"class"in C&&n(25,Fi=C.class),"$$scope"in C&&n(98,m=C.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Xt!==void 0&&Yt!==void 0&&(We.width.set(Xt),We.height.set(Yt)),t.$$.dirty[2]&3200&&!oi&&r&&(Ct==null||Ct(),n(72,oi=!0)),t.$$.dirty[1]&2130690064|t.$$.dirty[2]&888&&ah(We,{flowId:_,connectionLineType:H,connectionRadius:F,selectionMode:$,snapGrid:B,defaultMarkerColor:ii,nodesDraggable:k,nodesConnectable:M,elementsSelectable:I,onlyRenderVisibleElements:ke,isValidConnection:fe,autoPanOnConnect:lt,autoPanOnNodeDrag:j,onerror:St,ondelete:Et,onedgecreate:W,connectionMode:x,nodeDragThreshold:P,onconnect:Ht,onconnectstart:At,onconnectend:It,onbeforedelete:Vt,nodeOrigin:zt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&Uo(We,{nodeTypes:O,edgeTypes:X,minZoom:V,maxZoom:K,translateExtent:ye,paneClickDistance:hn}),t.$$.dirty[2]&4&&d(n(29,i=fh(je)))},[D,q,R,b,v,U,te,_e,z,le,ge,Me,L,Te,ze,ct,dt,ht,Le,$e,Fe,Q,hn,Wi,Ki,Fi,Xt,Yt,gn,i,f,ml,Zi,l,y,_,g,E,w,p,V,K,T,O,X,$,k,M,P,I,B,F,H,x,fe,ye,ke,lt,j,St,Et,W,gt,Ze,je,Ht,At,It,Vt,Ct,zt,ii,oi,r,c,yl,_l,bl,wl,kl,vl,Sl,El,Cl,pl,Ml,zl,Pl,Nl,Ol,Dl,Tl,Hl,Al,Il,Vl,Xl,Yl,m]}class bh extends de{constructor(e){super(),he(this,e,_h,yh,me,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,onlyRenderVisibleElements:56,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:57,autoPanOnNodeDrag:58,onerror:59,ondelete:60,onedgecreate:61,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:62,height:63,colorMode:64,onconnect:65,onconnectstart:66,onconnectend:67,onbeforedelete:68,oninit:69,nodeOrigin:70,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:71,style:24,class:25},null,[-1,-1,-1,-1])}}const wh=t=>({}),Qo=t=>({class:"button-svg"});function kh(t){let e,n,i,o,l;const r=t[8].default,s=Ge(r,t,t[7],Qo);let a=[{type:"button"},{class:n=pe(["svelte-flow__controls-button",t[0]])},t[6]],u={};for(let f=0;f<a.length;f+=1)u=Ee(u,a[f]);return{c(){e=Re("button"),s&&s.c(),this.h()},l(f){e=Be(f,"BUTTON",{type:!0,class:!0});var h=ue(e);s&&s.l(h),h.forEach(N),this.h()},h(){Ft(e,u),ae(e,"--xy-controls-button-background-color-props",t[1]),ae(e,"--xy-controls-button-background-color-hover-props",t[2]),ae(e,"--xy-controls-button-color-props",t[3]),ae(e,"--xy-controls-button-color-hover-props",t[4]),ae(e,"--xy-controls-button-border-color-props",t[5])},m(f,h){G(f,e,h),s&&s.m(e,null),e.autofocus&&e.focus(),i=!0,o||(l=Pe(e,"click",t[9]),o=!0)},p(f,[h]){s&&s.p&&(!i||h&128)&&Ue(s,r,f,f[7],i?Qe(r,f[7],h,wh):Je(f[7]),Qo),Ft(e,u=wt(a,[{type:"button"},(!i||h&1&&n!==(n=pe(["svelte-flow__controls-button",f[0]])))&&{class:n},h&64&&f[6]])),ae(e,"--xy-controls-button-background-color-props",f[1]),ae(e,"--xy-controls-button-background-color-hover-props",f[2]),ae(e,"--xy-controls-button-color-props",f[3]),ae(e,"--xy-controls-button-color-hover-props",f[4]),ae(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(A(s,f),i=!0)},o(f){Y(s,f),i=!1},d(f){f&&N(e),s&&s.d(f),o=!1,l()}}}function vh(t,e,n){const i=["class"];let o=De(e,i),{$$slots:l={},$$scope:r}=e,{class:s=void 0}=e,a,u,f,h,d;function c(m){be.call(this,t,m)}return t.$$set=m=>{e=Ee(Ee({},e),ot(m)),n(6,o=De(e,i)),"class"in m&&n(0,s=m.class),"$$scope"in m&&n(7,r=m.$$scope)},[s,a,u,f,h,d,o,r,l,c]}class Kn extends de{constructor(e){super(),he(this,e,vh,kh,me,{class:0})}}function Sh(t){let e,n;return{c(){e=ve("svg"),n=ve("path"),this.h()},l(i){e=Se(i,"svg",{xmlns:!0,viewBox:!0});var o=ue(e);n=Se(o,"path",{d:!0}),ue(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 32 32")},m(i,o){G(i,e,o),Ye(e,n)},p:we,i:we,o:we,d(i){i&&N(e)}}}class Eh extends de{constructor(e){super(),he(this,e,null,Sh,me,{})}}function Ch(t){let e,n;return{c(){e=ve("svg"),n=ve("path"),this.h()},l(i){e=Se(i,"svg",{xmlns:!0,viewBox:!0});var o=ue(e);n=Se(o,"path",{d:!0}),ue(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M0 0h32v4.2H0z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 32 5")},m(i,o){G(i,e,o),Ye(e,n)},p:we,i:we,o:we,d(i){i&&N(e)}}}class ph extends de{constructor(e){super(),he(this,e,null,Ch,me,{})}}function Mh(t){let e,n;return{c(){e=ve("svg"),n=ve("path"),this.h()},l(i){e=Se(i,"svg",{xmlns:!0,viewBox:!0});var o=ue(e);n=Se(o,"path",{d:!0}),ue(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 32 30")},m(i,o){G(i,e,o),Ye(e,n)},p:we,i:we,o:we,d(i){i&&N(e)}}}class zh extends de{constructor(e){super(),he(this,e,null,Mh,me,{})}}function Ph(t){let e,n;return{c(){e=ve("svg"),n=ve("path"),this.h()},l(i){e=Se(i,"svg",{xmlns:!0,viewBox:!0});var o=ue(e);n=Se(o,"path",{d:!0}),ue(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 25 32")},m(i,o){G(i,e,o),Ye(e,n)},p:we,i:we,o:we,d(i){i&&N(e)}}}class Nh extends de{constructor(e){super(),he(this,e,null,Ph,me,{})}}function Oh(t){let e,n;return{c(){e=ve("svg"),n=ve("path"),this.h()},l(i){e=Se(i,"svg",{xmlns:!0,viewBox:!0});var o=ue(e);n=Se(o,"path",{d:!0}),ue(n).forEach(N),o.forEach(N),this.h()},h(){S(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 25 32")},m(i,o){G(i,e,o),Ye(e,n)},p:we,i:we,o:we,d(i){i&&N(e)}}}class Dh extends de{constructor(e){super(),he(this,e,null,Oh,me,{})}}const Th=t=>({}),jo=t=>({}),Hh=t=>({}),xo=t=>({});function $o(t){let e,n,i,o;const l=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let r={$$slots:{default:[Ah]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)r=Ee(r,l[u]);e=new Kn({props:r}),e.$on("click",t[18]);const s=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[Ih]},$$scope:{ctx:t}};for(let u=0;u<s.length;u+=1)a=Ee(a,s[u]);return i=new Kn({props:a}),i.$on("click",t[19]),{c(){ne(e.$$.fragment),n=Ne(),ne(i.$$.fragment)},l(u){re(e.$$.fragment,u),n=Oe(u),re(i.$$.fragment,u)},m(u,f){ie(e,u,f),G(u,n,f),ie(i,u,f),o=!0},p(u,f){const h=f[0]&131584?wt(l,[l[0],l[1],l[2],f[0]&512&&{disabled:u[9]},f[0]&131072&&Zt(u[17])]):{};f[1]&32&&(h.$$scope={dirty:f,ctx:u}),e.$set(h);const d=f[0]&132096?wt(s,[s[0],s[1],s[2],f[0]&1024&&{disabled:u[10]},f[0]&131072&&Zt(u[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:u}),i.$set(d)},i(u){o||(A(e.$$.fragment,u),A(i.$$.fragment,u),o=!0)},o(u){Y(e.$$.fragment,u),Y(i.$$.fragment,u),o=!1},d(u){u&&N(n),oe(e,u),oe(i,u)}}}function Ah(t){let e,n;return e=new Eh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Ih(t){let e,n;return e=new ph({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function er(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[Vh]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ee(o,i[l]);return e=new Kn({props:o}),e.$on("click",t[20]),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,r){ie(e,l,r),n=!0},p(l,r){const s=r[0]&131072?wt(i,[i[0],i[1],i[2],Zt(l[17])]):{};r[1]&32&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){Y(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Vh(t){let e,n;return e=new zh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function tr(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[Rh]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ee(o,i[l]);return e=new Kn({props:o}),e.$on("click",t[21]),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,r){ie(e,l,r),n=!0},p(l,r){const s=r[0]&131072?wt(i,[i[0],i[1],i[2],Zt(l[17])]):{};r[0]&256|r[1]&32&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){Y(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Xh(t){let e,n;return e=new Nh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Yh(t){let e,n;return e=new Dh({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Rh(t){let e,n,i,o;const l=[Yh,Xh],r=[];function s(a,u){return a[8]?0:1}return e=s(t),n=r[e]=l[e](t),{c(){n.c(),i=Ce()},l(a){n.l(a),i=Ce()},m(a,u){r[e].m(a,u),G(a,i,u),o=!0},p(a,u){let f=e;e=s(a),e!==f&&(Ve(),Y(r[f],1,1,()=>{r[f]=null}),Xe(),n=r[e],n||(n=r[e]=l[e](a),n.c()),A(n,1),n.m(i.parentNode,i))},i(a){o||(A(n),o=!0)},o(a){Y(n),o=!1},d(a){a&&N(i),r[e].d(a)}}}function Bh(t){let e,n,i,o,l,r;const s=t[35].before,a=Ge(s,t,t[36],xo);let u=t[1]&&$o(t),f=t[2]&&er(t),h=t[3]&&tr(t);const d=t[35].default,c=Ge(d,t,t[36],null),m=t[35].after,y=Ge(m,t,t[36],jo);return{c(){a&&a.c(),e=Ne(),u&&u.c(),n=Ne(),f&&f.c(),i=Ne(),h&&h.c(),o=Ne(),c&&c.c(),l=Ne(),y&&y.c()},l(_){a&&a.l(_),e=Oe(_),u&&u.l(_),n=Oe(_),f&&f.l(_),i=Oe(_),h&&h.l(_),o=Oe(_),c&&c.l(_),l=Oe(_),y&&y.l(_)},m(_,g){a&&a.m(_,g),G(_,e,g),u&&u.m(_,g),G(_,n,g),f&&f.m(_,g),G(_,i,g),h&&h.m(_,g),G(_,o,g),c&&c.m(_,g),G(_,l,g),y&&y.m(_,g),r=!0},p(_,g){a&&a.p&&(!r||g[1]&32)&&Ue(a,s,_,_[36],r?Qe(s,_[36],g,Hh):Je(_[36]),xo),_[1]?u?(u.p(_,g),g[0]&2&&A(u,1)):(u=$o(_),u.c(),A(u,1),u.m(n.parentNode,n)):u&&(Ve(),Y(u,1,1,()=>{u=null}),Xe()),_[2]?f?(f.p(_,g),g[0]&4&&A(f,1)):(f=er(_),f.c(),A(f,1),f.m(i.parentNode,i)):f&&(Ve(),Y(f,1,1,()=>{f=null}),Xe()),_[3]?h?(h.p(_,g),g[0]&8&&A(h,1)):(h=tr(_),h.c(),A(h,1),h.m(o.parentNode,o)):h&&(Ve(),Y(h,1,1,()=>{h=null}),Xe()),c&&c.p&&(!r||g[1]&32)&&Ue(c,d,_,_[36],r?Qe(d,_[36],g,null):Je(_[36]),null),y&&y.p&&(!r||g[1]&32)&&Ue(y,m,_,_[36],r?Qe(m,_[36],g,Th):Je(_[36]),jo)},i(_){r||(A(a,_),A(u),A(f),A(h),A(c,_),A(y,_),r=!0)},o(_){Y(a,_),Y(u),Y(f),Y(h),Y(c,_),Y(y,_),r=!1},d(_){_&&(N(e),N(n),N(i),N(o),N(l)),a&&a.d(_),u&&u.d(_),f&&f.d(_),h&&h.d(_),c&&c.d(_),y&&y.d(_)}}}function Lh(t){let e,n;return e=new Li({props:{class:pe(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[Bh]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o[0]&192&&(l.class=pe(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(l.position=i[0]),o[0]&16&&(l["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(l.style=i[5]),o[0]&1806|o[1]&32&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function Wh(t,e,n){let i,o,l,r,s,a,u,f,h,d,{$$slots:c={},$$scope:m}=e,{position:y="bottom-left"}=e,{showZoom:_=!0}=e,{showFitView:g=!0}=e,{showLock:E=!0}=e,{buttonBgColor:w=void 0}=e,{buttonBgColorHover:p=void 0}=e,{buttonColor:V=void 0}=e,{buttonColorHover:K=void 0}=e,{buttonBorderColor:T=void 0}=e,{ariaLabel:D=void 0}=e,{style:O=void 0}=e,{orientation:X="vertical"}=e,{fitViewOptions:q=void 0}=e,{class:$=""}=e;const{zoomIn:R,zoomOut:b,fitView:v,viewport:k,minZoom:M,maxZoom:P,nodesDraggable:I,nodesConnectable:B,elementsSelectable:U}=Ae();Z(t,k,z=>n(30,a=z)),Z(t,M,z=>n(31,u=z)),Z(t,P,z=>n(29,s=z)),Z(t,I,z=>n(34,d=z)),Z(t,B,z=>n(33,h=z)),Z(t,U,z=>n(32,f=z));const F={bgColor:w,bgColorHover:p,color:V,colorHover:K,borderColor:T},H=()=>{R()},x=()=>{b()},te=()=>{v(q)},_e=()=>{n(8,i=!i),I.set(i),B.set(i),U.set(i)};return t.$$set=z=>{"position"in z&&n(0,y=z.position),"showZoom"in z&&n(1,_=z.showZoom),"showFitView"in z&&n(2,g=z.showFitView),"showLock"in z&&n(3,E=z.showLock),"buttonBgColor"in z&&n(22,w=z.buttonBgColor),"buttonBgColorHover"in z&&n(23,p=z.buttonBgColorHover),"buttonColor"in z&&n(24,V=z.buttonColor),"buttonColorHover"in z&&n(25,K=z.buttonColorHover),"buttonBorderColor"in z&&n(26,T=z.buttonBorderColor),"ariaLabel"in z&&n(4,D=z.ariaLabel),"style"in z&&n(5,O=z.style),"orientation"in z&&n(27,X=z.orientation),"fitViewOptions"in z&&n(28,q=z.fitViewOptions),"class"in z&&n(6,$=z.class),"$$scope"in z&&n(36,m=z.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=d||h||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=a.zoom<=u),t.$$.dirty[0]&1610612736&&n(9,l=a.zoom>=s),t.$$.dirty[0]&134217728&&n(7,r=X==="horizontal"?"horizontal":"vertical")},[y,_,g,E,D,O,$,r,i,l,o,k,M,P,I,B,U,F,H,x,te,_e,w,p,V,K,T,X,q,s,a,u,f,h,d,c,m]}class Kh extends de{constructor(e){super(),he(this,e,Wh,Lh,me,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var bt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(bt||(bt={}));function Fh(t){let e,n;return{c(){e=ve("circle"),this.h()},l(i){e=Se(i,"circle",{cx:!0,cy:!0,r:!0,class:!0}),ue(e).forEach(N),this.h()},h(){S(e,"cx",t[0]),S(e,"cy",t[0]),S(e,"r",t[0]),S(e,"class",n=pe(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){G(i,e,o)},p(i,[o]){o&1&&S(e,"cx",i[0]),o&1&&S(e,"cy",i[0]),o&1&&S(e,"r",i[0]),o&2&&n!==(n=pe(["svelte-flow__background-pattern","dots",i[1]]))&&S(e,"class",n)},i:we,o:we,d(i){i&&N(e)}}}function Zh(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=l=>{"radius"in l&&n(0,i=l.radius),"class"in l&&n(1,o=l.class)},[i,o]}class qh extends de{constructor(e){super(),he(this,e,Zh,Fh,me,{radius:0,class:1})}}function Gh(t){let e,n,i;return{c(){e=ve("path"),this.h()},l(o){e=Se(o,"path",{"stroke-width":!0,d:!0,class:!0}),ue(e).forEach(N),this.h()},h(){S(e,"stroke-width",t[0]),S(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),S(e,"class",i=pe(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,l){G(o,e,l)},p(o,[l]){l&1&&S(e,"stroke-width",o[0]),l&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&S(e,"d",n),l&12&&i!==(i=pe(["svelte-flow__background-pattern",o[2],o[3]]))&&S(e,"class",i)},i:we,o:we,d(o){o&&N(e)}}}function Uh(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:l=void 0}=e,{class:r=""}=e;return t.$$set=s=>{"lineWidth"in s&&n(0,i=s.lineWidth),"dimensions"in s&&n(1,o=s.dimensions),"variant"in s&&n(2,l=s.variant),"class"in s&&n(3,r=s.class)},[i,o,l,r]}class Jh extends de{constructor(e){super(),he(this,e,Uh,Gh,me,{lineWidth:0,dimensions:1,variant:2,class:3})}}function Qh(t){let e,n;return e=new Jh({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&64&&(l.dimensions=i[6]),o&1&&(l.variant=i[0]),o&2&&(l.lineWidth=i[1]),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function jh(t){let e,n;return e=new qh({props:{radius:t[7]/2,class:t[4]}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o&128&&(l.radius=i[7]/2),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}function xh(t){let e,n,i,o,l,r,s,a,u,f,h,d,c;const m=[jh,Qh],y=[];function _(g,E){return g[14]?0:1}return i=_(t),o=y[i]=m[i](t),{c(){e=ve("svg"),n=ve("pattern"),o.c(),f=ve("rect"),this.h()},l(g){e=Se(g,"svg",{class:!0,"data-testid":!0});var E=ue(e);n=Se(E,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0,patternUnits:!0,patternTransform:!0});var w=ue(n);o.l(w),w.forEach(N),f=Se(E,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),ue(f).forEach(N),E.forEach(N),this.h()},h(){S(n,"id",t[11]),S(n,"x",l=t[9].x%t[8][0]),S(n,"y",r=t[9].y%t[8][1]),S(n,"width",s=t[8][0]),S(n,"height",a=t[8][1]),S(n,"patternUnits","userSpaceOnUse"),S(n,"patternTransform",u=`translate(-${t[10][0]},-${t[10][1]})`),S(f,"x","0"),S(f,"y","0"),S(f,"width","100%"),S(f,"height","100%"),S(f,"fill",h=`url(#${t[11]})`),S(e,"class",d=Gi(pe(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),S(e,"data-testid","svelte-flow__background"),ae(e,"--xy-background-color-props",t[2]),ae(e,"--xy-background-pattern-color-props",t[3])},m(g,E){G(g,e,E),Ye(e,n),y[i].m(n,null),Ye(e,f),c=!0},p(g,[E]){o.p(g,E),(!c||E&2048)&&S(n,"id",g[11]),(!c||E&768&&l!==(l=g[9].x%g[8][0]))&&S(n,"x",l),(!c||E&768&&r!==(r=g[9].y%g[8][1]))&&S(n,"y",r),(!c||E&256&&s!==(s=g[8][0]))&&S(n,"width",s),(!c||E&256&&a!==(a=g[8][1]))&&S(n,"height",a),(!c||E&1024&&u!==(u=`translate(-${g[10][0]},-${g[10][1]})`))&&S(n,"patternTransform",u),(!c||E&2048&&h!==(h=`url(#${g[11]})`))&&S(f,"fill",h),(!c||E&32&&d!==(d=Gi(pe(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&S(e,"class",d),E&4&&ae(e,"--xy-background-color-props",g[2]),E&8&&ae(e,"--xy-background-pattern-color-props",g[3])},i(g){c||(A(o),c=!0)},o(g){Y(o),c=!1},d(g){g&&N(e),y[i].d()}}}const $h={[bt.Dots]:1,[bt.Lines]:1,[bt.Cross]:6};function eg(t,e,n){let i,o,l,r,s,a,u,{id:f=void 0}=e,{variant:h=bt.Dots}=e,{gap:d=20}=e,{size:c=1}=e,{lineWidth:m=1}=e,{bgColor:y=void 0}=e,{patternColor:_=void 0}=e,{patternClass:g=void 0}=e,{class:E=""}=e;const{viewport:w,flowId:p}=Ae();Z(t,w,O=>n(9,a=O)),Z(t,p,O=>n(18,u=O));const V=c||$h[h],K=h===bt.Dots,T=h===bt.Cross,D=Array.isArray(d)?d:[d,d];return t.$$set=O=>{"id"in O&&n(15,f=O.id),"variant"in O&&n(0,h=O.variant),"gap"in O&&n(16,d=O.gap),"size"in O&&n(17,c=O.size),"lineWidth"in O&&n(1,m=O.lineWidth),"bgColor"in O&&n(2,y=O.bgColor),"patternColor"in O&&n(3,_=O.patternColor),"patternClass"in O&&n(4,g=O.patternClass),"class"in O&&n(5,E=O.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${u}-${f||""}`),t.$$.dirty&512&&n(8,o=[D[0]*a.zoom||1,D[1]*a.zoom||1]),t.$$.dirty&512&&n(7,l=V*a.zoom),t.$$.dirty&384&&n(6,r=T?[l,l]:o),t.$$.dirty&192&&n(10,s=K?[l/2,l/2]:[r[0]/2,r[1]/2])},[h,m,y,_,g,E,r,l,o,a,s,i,w,p,K,f,d,c,u]}class tg extends de{constructor(e){super(),he(this,e,eg,xh,me,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function ng(t){let e,n,i;return{c(){e=ve("rect"),this.h()},l(o){e=Se(o,"rect",{class:!0,x:!0,y:!0,rx:!0,ry:!0,width:!0,height:!0,style:!0,"shape-rendering":!0}),ue(e).forEach(N),this.h()},h(){S(e,"class",n=pe(["svelte-flow__minimap-node",t[10]])),S(e,"x",t[0]),S(e,"y",t[1]),S(e,"rx",t[4]),S(e,"ry",t[4]),S(e,"width",t[2]),S(e,"height",t[3]),S(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),S(e,"shape-rendering",t[6]),se(e,"selected",t[9])},m(o,l){G(o,e,l)},p(o,[l]){l&1024&&n!==(n=pe(["svelte-flow__minimap-node",o[10]]))&&S(e,"class",n),l&1&&S(e,"x",o[0]),l&2&&S(e,"y",o[1]),l&16&&S(e,"rx",o[4]),l&16&&S(e,"ry",o[4]),l&4&&S(e,"width",o[2]),l&8&&S(e,"height",o[3]),l&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&S(e,"style",i),l&64&&S(e,"shape-rendering",o[6]),l&1536&&se(e,"selected",o[9])},i:we,o:we,d(o){o&&N(e)}}}function ig(t,e,n){let{x:i}=e,{y:o}=e,{width:l=0}=e,{height:r=0}=e,{borderRadius:s=5}=e,{color:a=void 0}=e,{shapeRendering:u}=e,{strokeColor:f=void 0}=e,{strokeWidth:h=2}=e,{selected:d=!1}=e,{class:c=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,l=m.width),"height"in m&&n(3,r=m.height),"borderRadius"in m&&n(4,s=m.borderRadius),"color"in m&&n(5,a=m.color),"shapeRendering"in m&&n(6,u=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,h=m.strokeWidth),"selected"in m&&n(9,d=m.selected),"class"in m&&n(10,c=m.class)},[i,o,l,r,s,a,u,f,h,d,c]}class og extends de{constructor(e){super(),he(this,e,ig,ng,me,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function rg(t,e){const n=nc({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=J(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function nr(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function gi(t){const e=t.slice(),n=ei(e[56]);return e[59]=n,e}function ir(t){let e,n,i=[],o=new Map,l,r,s,a,u,f,h,d=t[1]&&or(t),c=Mt(t[19]);const m=y=>y[55].id;for(let y=0;y<c.length;y+=1){let _=nr(t,c,y),g=m(_);o.set(g,i[y]=lr(g,_))}return{c(){e=ve("svg"),d&&d.c(),n=Ce();for(let y=0;y<i.length;y+=1)i[y].c();l=ve("path"),this.h()},l(y){e=Se(y,"svg",{width:!0,height:!0,viewBox:!0,class:!0,role:!0,"aria-labelledby":!0});var _=ue(e);d&&d.l(_),n=Ce();for(let g=0;g<i.length;g+=1)i[g].l(_);l=Se(_,"path",{class:!0,d:!0,"fill-rule":!0,"pointer-events":!0}),ue(l).forEach(N),_.forEach(N),this.h()},h(){S(l,"class","svelte-flow__minimap-mask"),S(l,"d",r="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),S(l,"fill-rule","evenodd"),S(l,"pointer-events","none"),S(e,"width",t[17]),S(e,"height",t[16]),S(e,"viewBox",s=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),S(e,"class","svelte-flow__minimap-svg"),S(e,"role","img"),S(e,"aria-labelledby",t[41]),ae(e,"--xy-minimap-mask-background-color-props",t[5]),ae(e,"--xy-minimap-mask-stroke-color-props",t[6]),ae(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(y,_){G(y,e,_),d&&d.m(e,null),Ye(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);Ye(e,l),u=!0,f||(h=Ke(a=rg.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(y,_){y[1]?d?d.p(y,_):(d=or(y),d.c(),d.m(e,n)):d&&(d.d(1),d=null),_[0]&1572876|_[1]&960&&(c=Mt(y[19]),Ve(),i=Gn(i,_,m,1,y,c,o,e,qn,lr,l,nr),Xe()),(!u||_[0]&126124032&&r!==(r="M"+(y[26]-y[15])+","+(y[25]-y[15])+"h"+(y[24]+y[15]*2)+"v"+(y[23]+y[15]*2)+"h"+(-y[24]-y[15]*2)+`z
      M`+y[18].x+","+y[18].y+"h"+y[18].width+"v"+y[18].height+"h"+-y[18].width+"z"))&&S(l,"d",r),(!u||_[0]&131072)&&S(e,"width",y[17]),(!u||_[0]&65536)&&S(e,"height",y[16]),(!u||_[0]&125829120&&s!==(s=y[26]+" "+y[25]+" "+y[24]+" "+y[23]))&&S(e,"viewBox",s),a&&Ie(a.update)&&_[0]&408948480&&a.update.call(null,{panZoom:y[27],viewport:y[31],getViewScale:y[42],translateExtent:y[28],width:y[22],height:y[21],inversePan:y[10],zoomStep:y[11],pannable:y[8],zoomable:y[9]}),_[0]&32&&ae(e,"--xy-minimap-mask-background-color-props",y[5]),_[0]&64&&ae(e,"--xy-minimap-mask-stroke-color-props",y[6]),_[0]&16512&&ae(e,"--xy-minimap-mask-stroke-width-props",y[7]?y[7]*y[14]:void 0)},i(y){if(!u){for(let _=0;_<c.length;_+=1)A(i[_]);u=!0}},o(y){for(let _=0;_<i.length;_+=1)Y(i[_]);u=!1},d(y){y&&N(e),d&&d.d();for(let _=0;_<i.length;_+=1)i[_].d();f=!1,h()}}}function or(t){let e,n;return{c(){e=ve("title"),n=rn(t[1]),this.h()},l(i){e=Se(i,"title",{id:!0});var o=ue(e);n=ln(o,t[1]),o.forEach(N),this.h()},h(){S(e,"id",t[41])},m(i,o){G(i,e,o),Ye(e,n)},p(i,o){o[0]&2&&sn(n,i[1])},d(i){i&&N(e)}}}function rr(t){var l;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(l=t[37])==null?void 0:l.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let r=0;r<i.length;r+=1)o=Ee(o,i[r]);return e=new og({props:o}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,s){ie(e,r,s),n=!0},p(r,s){var u;const a=s[0]&1572876|s[1]&960?wt(i,[s[0]&1572864&&{x:r[56].internals.positionAbsolute.x},s[0]&1572864&&{y:r[56].internals.positionAbsolute.y},s[0]&1572864&&Zt(r[59]),s[0]&1572864&&{selected:r[56].selected},s[0]&1572864|s[1]&64&&{color:(u=r[37])==null?void 0:u.call(r,r[56])},s[0]&4&&{borderRadius:r[2]},s[0]&1572864|s[1]&128&&{strokeColor:r[38](r[56])},s[0]&8&&{strokeWidth:r[3]},s[1]&512&&{shapeRendering:r[40]},s[0]&1572864|s[1]&256&&{class:r[39](r[56])}]):{};e.$set(a)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){Y(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function lr(t,e){let n,i=e[56]&&Rn(e[56]),o,l,r=i&&rr(gi(e));return{key:t,first:null,c(){n=Ce(),r&&r.c(),o=Ce(),this.h()},l(s){n=Ce(),r&&r.l(s),o=Ce(),this.h()},h(){this.first=n},m(s,a){G(s,n,a),r&&r.m(s,a),G(s,o,a),l=!0},p(s,a){e=s,a[0]&1572864&&(i=e[56]&&Rn(e[56])),i?r?(r.p(gi(e),a),a[0]&1572864&&A(r,1)):(r=rr(gi(e)),r.c(),A(r,1),r.m(o.parentNode,o)):r&&(Ve(),Y(r,1,1,()=>{r=null}),Xe())},i(s){l||(A(r),l=!0)},o(s){Y(r),l=!1},d(s){s&&(N(n),N(o)),r&&r.d(s)}}}function lg(t){let e,n,i=t[27]&&ir(t);return{c(){i&&i.c(),e=Ce()},l(o){i&&i.l(o),e=Ce()},m(o,l){i&&i.m(o,l),G(o,e,l),n=!0},p(o,l){o[27]?i?(i.p(o,l),l[0]&134217728&&A(i,1)):(i=ir(o),i.c(),A(i,1),i.m(e.parentNode,e)):i&&(Ve(),Y(i,1,1,()=>{i=null}),Xe())},i(o){n||(A(i),n=!0)},o(o){Y(i),n=!1},d(o){o&&N(e),i&&i.d(o)}}}function sg(t){let e,n;return e=new Li({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:pe(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[lg]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&4112&&(l.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(l.class=pe(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}const mi=t=>t instanceof Function?t:()=>t,ag=200,ug=150;function fg(t,e,n){let i,o,l,r,s,a,u,f,h,d,c,m,y,_,g,E,w,p,V,K,T,{position:D="bottom-right"}=e,{ariaLabel:O="Mini map"}=e,{nodeStrokeColor:X="transparent"}=e,{nodeColor:q=void 0}=e,{nodeClass:$=""}=e,{nodeBorderRadius:R=5}=e,{nodeStrokeWidth:b=2}=e,{bgColor:v=void 0}=e,{maskColor:k=void 0}=e,{maskStrokeColor:M=void 0}=e,{maskStrokeWidth:P=void 0}=e,{width:I=void 0}=e,{height:B=void 0}=e,{pannable:U=!0}=e,{zoomable:F=!0}=e,{inversePan:H=void 0}=e,{zoomStep:x=void 0}=e,{style:te=""}=e,{class:_e=""}=e;const{nodes:z,nodeLookup:le,viewport:ge,width:fe,height:ye,flowId:ke,panZoom:Me,translateExtent:L}=Ae();Z(t,z,j=>n(19,_=j)),Z(t,le,j=>n(20,g=j)),Z(t,ge,j=>n(53,E=j)),Z(t,fe,j=>n(22,p=j)),Z(t,ye,j=>n(21,w=j)),Z(t,ke,j=>n(54,V=j)),Z(t,Me,j=>n(27,K=j)),Z(t,L,j=>n(28,T=j));const Te=q===void 0?void 0:mi(q),ze=mi(X),ct=mi($),dt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",ht=`svelte-flow__minimap-desc-${V}`;let Le=i;const lt=()=>a;return t.$$set=j=>{"position"in j&&n(0,D=j.position),"ariaLabel"in j&&n(1,O=j.ariaLabel),"nodeStrokeColor"in j&&n(43,X=j.nodeStrokeColor),"nodeColor"in j&&n(44,q=j.nodeColor),"nodeClass"in j&&n(45,$=j.nodeClass),"nodeBorderRadius"in j&&n(2,R=j.nodeBorderRadius),"nodeStrokeWidth"in j&&n(3,b=j.nodeStrokeWidth),"bgColor"in j&&n(4,v=j.bgColor),"maskColor"in j&&n(5,k=j.maskColor),"maskStrokeColor"in j&&n(6,M=j.maskStrokeColor),"maskStrokeWidth"in j&&n(7,P=j.maskStrokeWidth),"width"in j&&n(46,I=j.width),"height"in j&&n(47,B=j.height),"pannable"in j&&n(8,U=j.pannable),"zoomable"in j&&n(9,F=j.zoomable),"inversePan"in j&&n(10,H=j.inversePan),"zoomStep"in j&&n(11,x=j.zoomStep),"style"in j&&n(12,te=j.style),"class"in j&&n(13,_e=j.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-E.x/E.zoom,y:-E.y/E.zoom,width:p/E.zoom,height:w/E.zoom}),t.$$.dirty[0]&1835008&&n(48,Le=g.size>0?Wr(dn(g),i):i),t.$$.dirty[1]&32768&&n(17,o=I??ag),t.$$.dirty[1]&65536&&n(16,l=B??ug),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,r=Le.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,s=Le.height/l),t.$$.dirty[1]&3145728&&n(14,a=Math.max(r,s)),t.$$.dirty[0]&147456&&n(50,u=a*o),t.$$.dirty[0]&81920&&n(49,f=a*l),t.$$.dirty[0]&16384&&n(15,h=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,d=Le.x-(u-Le.width)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,c=Le.y-(f-Le.height)/2-h),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,m=u+h*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,y=f+h*2)},[D,O,R,b,v,k,M,P,U,F,H,x,te,_e,a,h,l,o,i,_,g,w,p,y,m,c,d,K,T,z,le,ge,fe,ye,ke,Me,L,Te,ze,ct,dt,ht,lt,X,q,$,I,B,Le,f,u,s,r,E]}class cg extends de{constructor(e){super(),he(this,e,fg,sg,me,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function dg(t){let e,n,i,o,l,r;return e=new Kh({}),i=new tg({props:{variant:bt.Dots}}),l=new cg({}),{c(){ne(e.$$.fragment),n=Ne(),ne(i.$$.fragment),o=Ne(),ne(l.$$.fragment)},l(s){re(e.$$.fragment,s),n=Oe(s),re(i.$$.fragment,s),o=Oe(s),re(l.$$.fragment,s)},m(s,a){ie(e,s,a),G(s,n,a),ie(i,s,a),G(s,o,a),ie(l,s,a),r=!0},p:we,i(s){r||(A(e.$$.fragment,s),A(i.$$.fragment,s),A(l.$$.fragment,s),r=!0)},o(s){Y(e.$$.fragment,s),Y(i.$$.fragment,s),Y(l.$$.fragment,s),r=!1},d(s){s&&(N(n),N(o)),oe(e,s),oe(i,s),oe(l,s)}}}function hg(t){let e,n,i,o,l;return ur(t[4]),n=new bh({props:{nodes:t[1],edges:t[2],snapGrid:t[3],fitView:!0,$$slots:{default:[dg]},$$scope:{ctx:t}}}),n.$on("nodeclick",t[5]),{c(){e=Re("div"),ne(n.$$.fragment),this.h()},l(r){e=Be(r,"DIV",{});var s=ue(e);re(n.$$.fragment,s),s.forEach(N),this.h()},h(){ae(e,"height",t[0]+"px")},m(r,s){G(r,e,s),ie(n,e,null),i=!0,o||(l=Pe(window,"resize",t[4]),o=!0)},p(r,[s]){const a={};s&64&&(a.$$scope={dirty:s,ctx:r}),n.$set(a),s&1&&ae(e,"height",r[0]+"px")},i(r){i||(A(n.$$.fragment,r),i=!0)},o(r){Y(n.$$.fragment,r),i=!1},d(r){r&&N(e),oe(n),o=!1,l()}}}function gg(t,e,n){const i=ee([{id:"1",type:"input",data:{label:"Input Node"},position:{x:0,y:0}},{id:"2",type:"default",data:{label:"Node"},position:{x:0,y:150}}]),o=ee([{id:"1-2",type:"default",source:"1",target:"2",label:"Edge Text"}]),l=[25,25];let r=500;function s(){n(0,r=window.innerHeight)}return[r,i,o,l,s,u=>console.log("on node click",u.detail.node)]}class mg extends de{constructor(e){super(),he(this,e,gg,hg,me,{})}}function yg(t){let e,n;return e=new mg({}),{c(){ne(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,o){ie(e,i,o),n=!0},p:we,i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){Y(e.$$.fragment,i),n=!1},d(i){oe(e,i)}}}class kg extends de{constructor(e){super(),he(this,e,null,yg,me,{})}}export{kg as component};
